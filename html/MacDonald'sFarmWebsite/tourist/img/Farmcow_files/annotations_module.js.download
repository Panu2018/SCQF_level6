(function(g){var window=this;'use strict';var aI=function(p){p.publish("cardstatechange",p.u3()&&p.dS()?1:0)},II=function(p,l){var Q=g.UX(l),H=Q?l:arguments;
for(Q=Q?0:1;Q<H.length;Q++){if(p==null)return;p=p[H[Q]]}return p},xcU=function(p){var l=g.ed(p);
p=g.BJ(p);return new g.HJ(l.x,l.y,p.width,p.height)},UcS=function(p,l,Q){var H=H===void 0?{}:H;
var q;return q=g.Bs(p,l,function(){g.Y$(q);Q.apply(p,arguments)},H)},Xo=function(p){p=g.vi(p);
delete D0[p];g.u_(D0)&&nm&&nm.stop()},O5G=function(){nm||(nm=new g.x_(function(){CJS()},20));
var p=nm;p.isActive()||p.start()},CJS=function(){var p=g.pG();
g.a$(D0,function(l){v2Y(l,p)});
g.u_(D0)||O5G()},wR=function(p,l,Q,H){g.E2.call(this);
if(!Array.isArray(p)||!Array.isArray(l))throw Error("Start and end parameters must be arrays");if(p.length!=l.length)throw Error("Start and end points must be the same length");this.L=p;this.S=l;this.duration=Q;this.W=H;this.coords=[];this.progress=this.C=0;this.j=null},v2Y=function(p,l){l<p.startTime&&(p.endTime=l+p.endTime-p.startTime,p.startTime=l);
p.progress=(l-p.startTime)/(p.endTime-p.startTime);p.progress>1&&(p.progress=1);p.C=1E3/(l-p.j);p.j=l;mcJ(p,p.progress);p.progress==1?(p.B=0,Xo(p),p.onFinish(),p.Mv()):p.isPlaying()&&p.N0()},mcJ=function(p,l){typeof p.W==="function"&&(l=p.W(l));
p.coords=Array(p.L.length);for(var Q=0;Q<p.L.length;Q++)p.coords[Q]=(p.S[Q]-p.L[Q])*l+p.L[Q]},Gd$=function(p,l){g.JQ.call(this,p);
this.coords=l.coords;this.x=l.coords[0];this.y=l.coords[1];this.z=l.coords[2];this.duration=l.duration;this.progress=l.progress;this.fps=l.C;this.state=l.B},Sj=function(p,l,Q,H,q){wR.call(this,l,Q,H,q);
this.element=p},ii8=function(p,l,Q,H,q){if(l.length!=2||Q.length!=2)throw Error("Start and end points must be 2D");
Sj.call(this,p,l,Q,H,q)},pbY=function(p){return Math.pow(p,3)},ldU=function(p){return 3*p*p-2*p*p*p},Q0o=function(p){g.L.call(this);
this.L=p||window;this.B=[]},NW=function(p){return p.baseUrl||null},VD=function(p,l){return g.cu(g.I4(p,l),function(Q){return!!Q})},$JS=function(p,l,Q){function H(Wi){var G=Wi.hovercardButton;
if(!G)return null;G=G.subscribeButtonRenderer;if(!G)return null;var b=W(G.unsubscribedButtonText),m=W(G.subscribedButtonText);if(G.subscribed){var B=W(G.subscriberCountWithUnsubscribeText);var P=W(G.subscriberCountText)}else B=W(G.subscriberCountText),P=W(G.subscriberCountWithSubscribeText);var fW=null;if(Wi.signinEndpoint){fW=II(Wi,"signinEndpoint","webNavigationEndpointData","url");if(!fW){var aY,M8;fW=(M8=g.f((aY=G.signInEndpoint)==null?void 0:aY.commandMetadata,g.TL))==null?void 0:M8.url}if(!fW)return null}return b&&
(m||fW)?{subscribed:G.subscribed,subscribeText:b,subscribeCount:B,unsubscribeText:m,unsubscribeCount:P,enabled:G.enabled,signinUrl:fW,classic:Wi.useClassicSubscribeButton}:null}
function q(Wi){if(Wi){var G=[],b=Wi.videoId;b&&G.push("v="+b);(b=Wi.playlistId)&&G.push("list="+b);(Wi=Wi.startTimeSeconds)&&G.push("t="+Wi);return"/watch?"+G.join("&")}}
function W(Wi){if(!Wi)return null;var G=Wi.simpleText;return G?G:Wi.runs?g.I4(Wi.runs,function(b){return b.text}).join(""):null}
l=l.endscreenElementRenderer;if(!l)return null;var c=l.style,E=l.endpoint||{},R=null,F=null,r=!1,d=null,M=null,T=null,e=null,Y=!1,a=null,D=null,X=null,N=null,u=null,J=null;if(c==="VIDEO")g.f(E,g.y4)?R=g.f(E,g.y4).url:(J=g.f(E,g.vC),R=q(J)),F=!1,d=p,l.thumbnailOverlays?(r=l.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,M=W(r.text),r=r.style==="LIVE"):M=W(l.videoDuration);else if(c==="PLAYLIST")g.f(E,g.y4)?R=g.f(E,g.y4).url:(J=g.f(E,g.vC),R=q(J)),F=!1,d=p,T=W(l.playlistLength);else if(c===
"CHANNEL"){if(Y=II(E,"browseEndpoint","browseId"))e=Y,R="/channel/"+e;F=!1;d="new";(Y=!!l.isSubscribe)?a=H(l):D=W(l.subscribersText)}else c==="WEBSITE"?((X=II(E,"urlEndpoint","url"))&&(R=X),F=!0,d="new",X=l.icon.thumbnails[0].url):c==="CREATOR_MERCHANDISE"&&(l.productPrice&&(N=W(l.productPrice)),l.additionalFeesText&&(u=W(l.additionalFeesText)),(F=II(E,"urlEndpoint","url"))&&(R=F),F=!0,d="new");p=II(l,"title","accessibility","accessibilityData","label");var iP=l.endpoint?l.endpoint.clickTrackingParams:
null,C="";if(l.metadata){var $l=W(l.metadata);$l&&(C=$l)}return{id:"element-"+Q,type:c,title:W(l.title),metadata:C,callToAction:W(l.callToAction),tE:l.image,iconUrl:X,left:Number(l.left),width:Number(l.width),top:Number(l.top),aspectRatio:Number(l.aspectRatio),startMs:Math.floor(Number(l.startMs)),endMs:Math.floor(Number(l.endMs)),videoDuration:M,R4:r,playlistLength:T,channelId:e,subscribeButton:a,subscribersText:D,isSubscribe:Y,targetUrl:R||null,lUd:F,sessionData:iP?{itct:iP}:null,YiQ:d,wG:p?p:null,
isPlaceholder:l.isPlaceholder,impressionUrls:VD(l.impressionUrls||[],NW),emi:VD(l.hovercardShowUrls||[],NW),clickUrls:VD(E.loggingUrls||[],NW),visualElement:g.hc(l.trackingParams),productPrice:N,additionalFeesText:u,watchEndpoint:J||null}},Hib=function(p,l){var Q={startMs:Math.floor(Number(p.startMs)),
impressionUrls:VD(p.impressionUrls||[],NW),elements:VD(p.elements||[],function(H,q){return $JS(l,H,q)})};
p.trackingParams&&(Q.visualElement=g.hc(p.trackingParams));return Q},qDo=function(p){g.eH.call(this,p);
this.j=this.endscreen=null;this.L={};this.C={};this.W=this.X=null;this.T=[];this.B=null;this.HL=!0;this.S=0;p=p.U();this.Y=g.Vy(p)||g.uO(p);this.events=new g.kg(this);g.A(this,this.events);this.events.Z(this.player,g.Q7("creatorendscreen"),this.onCueRangeEnter);this.events.Z(this.player,g.$z("creatorendscreen"),this.onCueRangeExit);this.events.Z(this.player,"resize",this.GF);this.events.Z(window,"focus",this.GPm);this.load();var l=g.H2("STYLE");(g.OQ("HEAD")[0]||document.body).appendChild(l);this.addOnDisposeCallback(function(){g.Eh(l)});
l.sheet&&(l.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),l.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},W6G=function(p){return p.player.getVideoData().ZJ?"current":p.Y?"new":"current"},ko=function(p){return p.player.U().playerStyle==="creator-endscreen-editor"},cZo=function(p){var l=p.player.getVideoData(),Q=l.videoId;
p.j&&p.j.abort();Q={method:"POST",onFinish:function(q){var W=p.j=null;q.status===200&&(q=q.responseText,q.substring(0,3)===")]}"&&(q=q.substring(3),W=JSON.parse(q),W=Hib(W,W6G(p))));uI(p,W)},
urlParams:{v:Q},withCredentials:!0};p.Y&&(Q.urlParams.ptype="embedded");var H=l.SE;H&&(Q.postParams={ad_tracking:H});if(l=g.q4y(l))if(l=g.Li(l),l=g.up(l))p.j=g.IF(l,Q)},uI=function(p,l,Q){Q=Q===void 0?!0:Q;
p.player.S7("creatorendscreen");p.X&&(p.X.dispose(),p.X=null,p.W.dispose(),p.W=null);for(var H=g.Z(Object.values(p.L)),q=H.next();!q.done;q=H.next())q.value.dispose();p.L={};p.C={};p.T.length>0&&(p.T.forEach(function(E){E.dispose()}),p.T.length=0);
p.B&&(g.WF(p.B,"ytp-ce-element-show"),p.B.setAttribute("aria-hidden","true"));p.S=0;if((p.endscreen=l)&&l.elements){Q&&tAY(p);Q=[];H=new g.pP(l.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});Q.push(H);p.player.U().L||(p.X=new g.x({J:"div",V:"ytp-ce-shadow"}),g.Vs(p.player,p.X.element,4),p.W=new g.pz(p.X,200));for(H=0;H<l.elements.length;++H){q=l.elements[H];var W=EUo(p,q);if(W){p.L[q.id]=W;p.C[q.id]=q;g.Vs(p.player,W.element,4);var c=new g.pP(q.startMs,q.endMs,{id:"ytp-ce-element-"+
q.id,namespace:"creatorendscreen"});Q.push(c);RSY(p,W,q)}else g.K2(new g.Ps("buildEndscreenElement null",q))}p.player.cn(Q);p.GF()}},tAY=function(p){var l=g.IO(),Q=g.DE();
Q&&l&&p.endscreen.visualElement&&g.vH(g.Um)(void 0,Q,l,p.endscreen.visualElement)},EUo=function(p,l){var Q=null;
switch(l.type){case "VIDEO":p={J:"div",pK:["ytp-ce-element","ytp-ce-video"],N:{tabindex:"0","aria-label":l.wG||"","aria-hidden":"true"},G:[{J:"div",V:"ytp-ce-element-shadow"},{J:"div",V:"ytp-ce-covering-image",N:Km(l)},{J:"div",V:"ytp-ce-covering-shadow-top"},{J:"a",V:"ytp-ce-covering-overlay",N:{href:yD(p,l.targetUrl),tabindex:"-1"},G:[{J:"div",pK:["ytp-ce-video-title","ytp-webkit-ellipsis"],N:{dir:g.jk(l.title||"")},tP:l.title},{J:"div",V:l.R4?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
tP:l.videoDuration||void 0}]}]};Q=new g.x(p);break;case "PLAYLIST":p={J:"div",pK:["ytp-ce-element","ytp-ce-playlist"],N:{tabindex:"0","aria-label":l.wG||"","aria-hidden":"true"},G:[{J:"div",V:"ytp-ce-element-shadow"},{J:"div",V:"ytp-ce-covering-image",N:Km(l)},{J:"div",V:"ytp-ce-covering-shadow-top"},{J:"a",V:"ytp-ce-covering-overlay",N:{href:yD(p,l.targetUrl),tabindex:"-1"},G:[{J:"div",pK:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],N:{dir:g.jk(l.title||"")},tP:l.title},{J:"div",V:"ytp-ce-playlist-count",
G:[{J:"div",V:"ytp-ce-playlist-icon"},{J:"div",V:"ytp-ce-playlist-count-text",tP:l.playlistLength||void 0}]}]}]};Q=new g.x(p);break;case "CHANNEL":Q={J:"div",pK:["ytp-ce-element","ytp-ce-channel",l.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],N:{tabindex:"0","aria-label":l.wG||"","aria-hidden":"true"},G:[{J:"div",V:"ytp-ce-element-shadow"},{J:"div",V:"ytp-ce-expanding-overlay",G:[{J:"div",V:"ytp-ce-expanding-overlay-hider"},{J:"div",V:"ytp-ce-expanding-overlay-background"},{J:"div",V:"ytp-ce-expanding-overlay-content",
G:[{J:"div",V:"ytp-ce-expanding-overlay-body",G:[{J:"div",V:"ytp-ce-expanding-overlay-body-padding",G:[{J:"a",pK:["ytp-ce-channel-title","ytp-ce-link"],N:{href:yD(p,l.targetUrl),target:"_blank",tabindex:"-1",dir:g.jk(l.title||"")},tP:l.title},l.subscribeButton?{J:"div",V:"ytp-ce-subscribe-container",G:[{J:"div",V:"ytp-ce-channel-subscribe"}]}:"",l.subscribersText?{J:"div",V:"ytp-ce-channel-subscribers-text",tP:l.subscribersText}:"",l.metadata?{J:"div",pK:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],tP:l.metadata}:""]}]}]}]},{J:"div",V:"ytp-ce-expanding-image",N:Km(l)}]};Q=new g.x(Q);var H=g.mJ(document,"div","ytp-ce-channel-subscribe",Q.element)[0];if(l.subscribeButton&&l.channelId){g.HF(H,"ytp-ce-subscribe-button");if(p.player.U().L){var q=null;var W=l.sessionData.itct}else q="endscreen",W=null;q=new g.m5(l.subscribeButton.subscribeText,l.subscribeButton.subscribeCount,l.subscribeButton.unsubscribeText,l.subscribeButton.unsubscribeCount,!!l.subscribeButton.enabled,!!l.subscribeButton.classic,
l.channelId,!!l.subscribeButton.subscribed,q,W,p.player,!1);H.appendChild(q.element);p.T.push(q)}break;case "WEBSITE":p={J:"div",pK:["ytp-ce-element","ytp-ce-website"],N:{tabindex:"0","aria-label":l.wG||"","aria-hidden":"true"},G:[{J:"div",V:"ytp-ce-element-shadow"},{J:"div",V:"ytp-ce-expanding-overlay",G:[{J:"div",V:"ytp-ce-expanding-overlay-hider"},{J:"div",V:"ytp-ce-expanding-overlay-background"},{J:"div",V:"ytp-ce-expanding-overlay-content",G:[{J:"div",V:"ytp-ce-expanding-overlay-body",G:[{J:"div",
V:"ytp-ce-expanding-overlay-body-padding",G:[{J:"div",V:"ytp-ce-website-title",N:{dir:g.jk(l.title||"")},tP:l.title},{J:"div",V:"ytp-ce-website-metadata",tP:l.metadata},{J:"a",pK:["ytp-ce-website-goto","ytp-ce-link"],N:{href:yD(p,l.targetUrl),target:"_blank",tabindex:"-1"},tP:l.callToAction}]}]}]}]},{J:"div",V:"ytp-ce-expanding-image",N:Km(l)},{J:"div",V:"ytp-ce-expanding-icon",N:F6K(l.iconUrl)}]};Q=new g.x(p);break;case "CREATOR_MERCHANDISE":Q="",l.productPrice&&(Q={J:"div",V:"ytp-ce-merchandise-price-container",
G:[{J:"div",V:"ytp-ce-merchandise-price",tP:l.productPrice}]},l.additionalFeesText&&Q.G.push({J:"div",V:"ytp-ce-merchandise-additional-fees",tP:l.additionalFeesText})),p={J:"div",pK:["ytp-ce-element","ytp-ce-merchandise"],N:{tabindex:"0","aria-label":l.wG||"","aria-hidden":"true"},G:[{J:"div",V:"ytp-ce-element-shadow"},{J:"div",V:"ytp-ce-expanding-overlay",G:[{J:"div",V:"ytp-ce-expanding-overlay-hider"},{J:"div",V:"ytp-ce-expanding-overlay-background"},{J:"div",V:"ytp-ce-expanding-overlay-content",
G:[{J:"div",V:"ytp-ce-expanding-overlay-body",G:[{J:"div",V:"ytp-ce-expanding-overlay-body-padding",G:[{J:"div",V:"ytp-ce-merchandise-title",N:{dir:g.jk(l.title||"")},tP:l.title},Q,{J:"div",V:"ytp-ce-merchandise-metadata",tP:l.metadata},{J:"a",pK:["ytp-ce-merchandise-goto","ytp-ce-link"],N:{href:yD(p,l.targetUrl),target:"_blank",tabindex:"-1"},tP:l.callToAction}]}]}]}]},{J:"div",V:"ytp-ce-expanding-image",N:Km(l)},{J:"div",V:"ytp-ce-merchandise-invideo-cta-container",G:[{J:"div",V:"ytp-ce-merchandise-invideo-cta",
tP:l.callToAction||void 0}]}]},Q=new g.x(p)}l.isPlaceholder&&g.HF(Q.element,"ytp-ce-placeholder");return Q},Km=function(p){if(p.tE)var l=p.tE.thumbnails;
return F6K(l?l[l.length-1].url:null)},F6K=function(p){return p?{style:"background-image: url("+p+")"}:{}},RSY=function(p,l,Q){function H(R){R&&(l.listen("blur",function(){R.style.display!="none"&&p.HL&&R.focus()}),l.Z(R,"focus",W),l.Z(R,"blur",c))}
function q(R){p.S+=R;p.S>0?(g.HF(l.element,"ytp-ce-force-expand"),Lm(p,Q.id,!0)):(g.WF(l.element,"ytp-ce-force-expand"),g.WF(l.element,"ytp-ce-element-hover"),Lm(p,Q.id,!1))}
function W(){q(1)}
function c(){q(-1)}
l.listen("mouseenter",function(){rZK(p,l,Q)});
l.listen("mouseleave",function(){dJt(p,l,Q)});
p.player.U().L||l.listen("click",function(){g.HF(l.element,"ytp-ce-element-hover")});
l.listen("click",function(R){j08(p,Q,R)});
l.listen("keypress",function(R){j08(p,Q,R)});
l.listen("focus",function(){rZK(p,l,Q)});
l.listen("blur",function(){dJt(p,l,Q)});
l.listen("touchstart",function(){rZK(p,l,Q)});
var E=g.Ga("ytp-ce-expanding-overlay-hider",l.element);E&&l.Z(E,"touchstart",function(R){R.stopPropagation();g.WF(l.element,"ytp-ce-element-hover");g.WF(l.element,"ytp-ce-force-expand")});
l.listen("keydown",function(R){p.HL=R.keyCode===9&&!R.shiftKey});
H(g.Ga("ytp-sb-subscribe",l.element));H(g.Ga("ytp-sb-unsubscribe",l.element));l.listen("focus",W);l.listen("blur",c)},j08=function(p,l,Q){if(l.targetUrl&&(!Q||Q.type!=="keypress"||Q.keyCode===13)){for(var H=Q.target;H&&!g.lE(H,"ytp-ce-element");){g.lE(H,"subscribe-label")&&MAY(p,l);
if(g.lE(H,"ytp-ce-channel-subscribe"))return;H=H.parentElement||null}if(!H||g.lE(H,"ytp-ce-element-hover")){Q.preventDefault();Q.stopPropagation();if(H=p.L[l.id])dJt(p,H,l),H.element.blur();if(Q.ctrlKey||Q.metaKey||l.YiQ==="new")MAY(p,l),p.player.sendVideoStatsEngageEvent(17,void 0),p.player.pauseVideo(),Q=g.Li(yD(p,l.targetUrl)),Q=g.up(Q),g.gh(Q,void 0,l.sessionData);else{var q=g.CI(p.player.U())||p.player.getVideoData().ZJ,W=function(){var c=yD(p,l.targetUrl),E=l.sessionData,R=l.watchEndpoint,F=
g.Ql(c);q&&F&&(F.v||F.list)?p.player.pL(F.v,E,F.list,!1,void 0,R||void 0):g.fz(c,E)};
MAY(p,l,function(){p.player.sendVideoStatsEngageEvent(17,W)})}}}},yD=function(p,l){p=p.player.U();
if(l){if(l.startsWith("//"))return p.protocol+":"+l;if(l.startsWith("/"))return g.lD(p)+l}else return"";return l},rZK=function(p,l,Q){g.lE(l.element,"ytp-ce-element-hover")||(Q.type==="VIDEO"||Q.type==="PLAYLIST"?g.HF(l.element,"ytp-ce-element-hover"):p.player.U().L?(new g.x_(function(){g.HF(l.element,"ytp-ce-element-hover")},200)).start():g.HF(l.element,"ytp-ce-element-hover"),oI(p,Q.emi),Lm(p,Q.id,!0))},dJt=function(p,l,Q){g.WF(l.element,"ytp-ce-element-hover");
g.WF(l.element,"ytp-ce-force-expand");Lm(p,Q.id,!1)},Lm=function(p,l,Q){p.X&&(Q?p.W.show():p.W.hide());
for(var H=g.Z(Object.keys(p.L)),q=H.next();!q.done;q=H.next())q=q.value,q!==l&&g.tm(p.L[q].element,"ytp-ce-element-shadow-show",Q)},oI=function(p,l,Q){function H(){W||(q++,q===l.length&&(c.stop(),Q&&Q()))}
if(!l||l.length===0||ko(p))Q&&Q();else{l=T1$(p,l);var q=0,W=!1,c=new g.x_(function(){W=!0;Q&&Q()},1E3,p);
c.start();for(p=0;p<l.length;p++)g.JR(l[p],H)}},MAY=function(p,l,Q){oI(p,l.clickUrls,Q);
(p=g.DE())&&l.lUd&&g.H0(p,l.visualElement)},T1$=function(p,l){var Q=p.player.getVideoData().clientPlaybackNonce;
p=p.player.getCurrentTime().toFixed(2);Q={CPN:Q,AD_CPN:Q,MT:p};p=[];for(var H=0;H<l.length;H++)p.push(eSo(l[H],Q));return p},eSo=function(p,l){return p.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(Q){var H=unescape(Q);
H=H.substring(1,H.length-1);return l[H]?escape(l[H]):Q})},zSC=function(p){return typeof p==="string"?p:""},AB=function(p,l,Q){for(var H in l)if(l[H]===p)return p;
return Q},Zi8=function(p,l,Q,H){this.value=p;
this.target=l;this.showLinkIcon=Q;this.B=H},JB=function(p){return p.value?p.value:null},fm=function(p){if(!p)return null;
var l=g.Li(zSC(p.value));l=g.up(l);if(!l)return null;var Q=AB(p.target,B1C,"current");if(Q==null)p=null;else{var H=p.show_link_icon;p=new Zi8(l,Q,H==="true"||H==="false"?H==="true":!0,p.pause_on_navigation!=null?p.pause_on_navigation:!0)}return p},YD$=function(p,l,Q){this.type=p;
this.trigger=l;this.url=Q},IdC=function(p){if(!p)return null;
var l=AB(p.type,hS5),Q=AB(p.trigger,ad5);p=p.url;p=Array.isArray(p)&&p.length?p[0]:p;p=fm(p?p:null);return l?new YD$(l,Q,p):null},DJb=function(p,l,Q,H,q){this.id=p;
this.type=l;this.style=Q;this.data=q;this.action=H||[]},nUb=function(p,l){return g.CG(p.action,l)},XbK=function(p,l){this.context=p;
this.B=l},wbo=function(p){return p.customMessage?gR("div","iv-card-message",p.customMessage):""},s0=function(p,l){p="background-image: url("+p+");";
var Q=[];l&&Q.push(l);return{J:"div",V:"iv-card-image",N:{style:p},G:Q}},SDo=function(p){if(!p.metaInfo||p.metaInfo.length===0)return"";
var l=[];p=g.Z(p.metaInfo);for(var Q=p.next();!Q.done;Q=p.next())l.push(gR("li","",Q.value));return{J:"ul",V:"iv-card-meta-info",G:l}},gR=function(p,l,Q){l?typeof l==="string"?l={"class":l}:Array.isArray(l)&&(l={"class":l.join(" ")}):l={};
l.dir=g.jk(Q);return{J:p,N:l,tP:Q}},N1U=function(p){if(!p.customMessage)return"";
var l=["iv-card-action","iv-card-primary-link"],Q={};p.rG&&(l.push("iv-card-action-icon"),Q.style="background-image: url("+p.rG+");");Q.dir=g.jk(p.customMessage);var H=[{J:"span",tP:p.customMessage}];p.showLinkIcon&&(H.push("\u00a0"),H.push({J:"span",V:"iv-card-link-icon"}));return{J:"div",pK:l,N:Q,G:H}},bI=function(p,l,Q,H){if(H){l=g.Z(l);
for(var q=l.next();!q.done;q=l.next())p.B(q.value,H,Q.id,Q.sessionData,Q.AC.click,5)}},VAo=function(p,l){this.merchant=p;
this.price=l},kRo=function(p){var l;
(l=p)&&!(l=p.length>1?p.charAt(0)==="/"&&p.charAt(1)!=="/":p==="/")&&(l=p.replace(/^(https?:)?\/\//,"").split("/",1),l=!l||l.length<1||!l[0]?[]:l[0].toLowerCase().split(".").reverse(),l=l[0]==="com"&&l[1]==="youtube"||l[0]==="be"&&l[1]==="youtu");return l?p.indexOf("/redirect?")===-1:!1},uio=function(p,l){return l?l:kRo(p)?"current":"new"},PE=function(p,l){g.L.call(this);
var Q=this;this.element=p;this.context=l;this.Yd=!1;this.ZD=new Map;this.ej=new Map;this.context.K.addEventListener(g.Q7("annotations_module"),function(H){(H=Q.ZD.get(H))&&H.apply(Q)});
this.context.K.addEventListener(g.$z("annotations_module"),function(H){(H=Q.ej.get(H))&&H.apply(Q)})},xo=function(p,l,Q,H,q,W,c){p.context.B.listen(l,"click",function(E){p.Yv(Q,H,q,W||[],c||0,E)});
p.context.B.listen(l,"touchstart",function(){p.Yd=!1});
p.context.B.listen(l,"touchmove",function(){p.Yd=!0})},K6K=function(p){var l;
return((l=g.f(p,g.y4))==null?0:l.url)?g.f(p,g.y4).url:(p=g.f(p,g.vC))&&p.videoId?(l="/watch?v="+p.videoId,p.playlistId&&(l+="&list="+p.playlistId),p.index&&(l+="&index="+p.index),p.startTimeSeconds&&(l+="&t="+p.startTimeSeconds),l):null},U0=function(p,l,Q){return{nH:(p.impressionLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
click:(Q.loggingUrls||[]).map(function(H){return H.baseUrl||""}),
close:(l.dismissLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
Nk:(l.impressionLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
u0:(l.clickLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""})}},yZK=function(p,l,Q){PE.call(this,l,Q);
var H=this;this.K=p;this.eventId=null;this.Wp=this.ON=this.jN=this.X=this.isInitialized=!1;this.cards=[];this.cL=this.T=this.QQ=this.W=this.IG=this.B=null;this.HL=[];this.yQ=this.S=this.g7=this.KK=null;this.C=0;this.JP=new g.x_(function(){},Q.lO.Ld?4E3:3E3);
g.A(this,this.JP);this.nK=new g.x_(function(){});
g.A(this,this.nK);this.uO=new XbK(Q,function(q,W,c,E,R,F){xo(H,q,W,c,E,R,F)});
this.Y=new g.x({J:"div",V:"iv-drawer",N:{id:"iv-drawer"},G:[{J:"div",V:"iv-drawer-header",N:{"aria-role":"heading"},G:[{J:"span",V:"iv-drawer-header-text"},{J:"button",pK:["iv-drawer-close-button","ytp-button"],N:{"aria-label":"Hide cards",tabindex:"0"}}]},{J:"div",V:"iv-drawer-content"}]});g.A(this,this.Y);this.j=this.Y.element;this.hP=new g.pz(this.Y,330);g.A(this,this.hP);this.Pp=g.Ga("iv-drawer-header-text",this.j);this.L=g.Ga("iv-drawer-content",this.j);this.addCueRange(0,Q.videoData.lengthSeconds*
1E3,"",function(){H.jN&&Cm(H,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(H.jN=H.X)&&O0(H)});
this.aG=new g.kg(this);g.A(this,this.aG);this.K.addEventListener("videodatachange",this.mu.bind(this))},L6Y=function(p,l){l=l.data;
l.autoOpenMs&&p.addCueRange(l.autoOpenMs,0x8000000000000,"",function(){Cm(p,"YOUTUBE_DRAWER_AUTO_OPEN")});
l.autoCloseMs&&p.addCueRange(l.autoCloseMs,0x8000000000000,"",function(){O0(p)});
var Q=l.headerText;g.Ft(p.Pp,Q);p.T&&p.T.setAttribute("title",Q);l.eventId&&(p.eventId=l.eventId);p.KK=g.hc(l.trackingParams);p.S=g.hc(l.closeTrackingParams);p.g7=g.hc(l.iconTrackingParams)},oUo=function(p,l){var Q=l.cardId?l.cardId:"cr:"+p.C,H=p.K.U().experiments.UN("enable_error_corrections_infocard_web_client");
if(!l.content&&l.teaser.simpleCardTeaserRenderer&&H){var q=l.teaser.simpleCardTeaserRenderer,W=l.icon?l.icon.infoCardIconRenderer:null;l={id:Q,timestamp:p.C,type:"simple",teaserText:g.Mq(q.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,sessionData:{},sponsored:!1,AC:{},XH:null,Yo:q.trackingParams?g.hc(q.trackingParams):null,g7:W&&W.trackingParams?g.hc(W.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
rG:null,title:"",customMessage:"",url:null,onClickCommand:q.onTapCommand||null};vE(p,l)}else{var c;if((c=l.content)==null?0:c.simpleCardContentRenderer){if(!l.cueRanges.length)return;W=(q=l.content)==null?void 0:q.simpleCardContentRenderer;q=l.teaser.simpleCardTeaserRenderer;var E=l.icon?l.icon.infoCardIconRenderer:null;l={id:Q,timestamp:p.C,type:"simple",teaserText:g.Mq(q.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,
sessionData:GH(p,Q,l,W),sponsored:!1,AC:U0(W,q,W.command),XH:W.trackingParams?g.hc(W.trackingParams):null,Yo:q.trackingParams?g.hc(q.trackingParams):null,g7:E&&E.trackingParams?g.hc(E.trackingParams):null,imageUrl:iC(W.image.thumbnails,290).url,displayDomain:W.displayDomain?g.Mq(W.displayDomain):null,showLinkIcon:!!W.showLinkIcon,rG:null,title:W.title?g.Mq(W.title):"",customMessage:W.callToAction?g.Mq(W.callToAction):"",url:g.f(W.command,g.y4).url?fm({pause_on_navigation:!p.context.videoData.isLivePlayback,
target:"new",value:g.f(W.command,g.y4).url}):null,onClickCommand:null};vE(p,l)}else{var R;if((R=l.content)==null?0:R.collaboratorInfoCardContentRenderer){if(!l.cueRanges.length)return;q=(W=l.content)==null?void 0:W.collaboratorInfoCardContentRenderer;W=l.teaser.simpleCardTeaserRenderer;E=l.icon?l.icon.infoCardIconRenderer:null;l={id:Q,timestamp:p.C,type:"collaborator",teaserText:g.Mq(W.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),startMs:Number(l.cueRanges[0].startCardActiveMs),
autoOpen:!!l.autoOpen,sessionData:GH(p,Q,l,q),sponsored:!1,AC:U0(q,W,q.endpoint),XH:q.trackingParams?g.hc(q.trackingParams):null,Yo:W.trackingParams?g.hc(W.trackingParams):null,g7:E&&E.trackingParams?g.hc(E.trackingParams):null,channelId:g.f(q.endpoint,g.hO).browseId,customMessage:q.customText?g.Mq(q.customText):null,profileImageUrl:iC(q.channelAvatar.thumbnails,290).url,title:q.channelName?g.Mq(q.channelName):"",metaInfo:[q.subscriberCountText?g.Mq(q.subscriberCountText):""],url:fm({pause_on_navigation:!p.context.videoData.isLivePlayback,
target:"new",value:g.f(q.endpoint,g.hO).canonicalBaseUrl?g.f(q.endpoint,g.hO).canonicalBaseUrl:"/channel/"+g.f(q.endpoint,g.hO).browseId}),onClickCommand:null};vE(p,l)}else{var F;if((F=l.content)==null?0:F.playlistInfoCardContentRenderer){if(!l.cueRanges.length)return;q=(E=l.content)==null?void 0:E.playlistInfoCardContentRenderer;W=l.teaser.simpleCardTeaserRenderer;E=l.icon?l.icon.infoCardIconRenderer:null;l={id:Q,timestamp:p.C,type:"playlist",teaserText:g.Mq(W.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),
startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,sessionData:GH(p,Q,l,q),sponsored:!1,AC:U0(q,W,q.action),XH:q.trackingParams?g.hc(q.trackingParams):null,Yo:W.trackingParams?g.hc(W.trackingParams):null,g7:E&&E.trackingParams?g.hc(E.trackingParams):null,NF:iC(q.playlistThumbnail.thumbnails,258).url,customMessage:q.customMessage?g.Mq(q.customMessage):null,playlistVideoCount:g.Mq(q.playlistVideoCount),title:q.playlistTitle?g.Mq(q.playlistTitle):"",metaInfo:[q.channelName?g.Mq(q.channelName):
"",q.videoCountText?g.Mq(q.videoCountText):""],url:fm({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:K6K(q.action)}),onClickCommand:null};vE(p,l)}else{var r;if((r=l.content)==null?0:r.videoInfoCardContentRenderer){if(!l.cueRanges.length)return;var d;q=(d=l.content)==null?void 0:d.videoInfoCardContentRenderer;W=l.teaser.simpleCardTeaserRenderer;E=l.icon?l.icon.infoCardIconRenderer:null;l={id:Q,timestamp:p.C,type:"video",teaserText:g.Mq(W.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),
startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,sessionData:GH(p,Q,l,q),sponsored:!1,AC:U0(q,W,q.action),XH:q.trackingParams?g.hc(q.trackingParams):null,Yo:W.trackingParams?g.hc(W.trackingParams):null,g7:E&&E.trackingParams?g.hc(E.trackingParams):null,NF:iC(q.videoThumbnail.thumbnails,258).url,videoDuration:q.lengthString?g.Mq(q.lengthString):null,customMessage:q.customMessage?g.Mq(q.customMessage):null,title:q.videoTitle?g.Mq(q.videoTitle):"",metaInfo:[q.channelName?g.Mq(q.channelName):
"",q.viewCountText?g.Mq(q.viewCountText):""],isLiveNow:!!q.badge,url:fm({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:K6K(q.action)}),onClickCommand:null};vE(p,l)}}}}}p.C++},iC=function(p,l){for(var Q=-1,H=-1,q=0;q<p.length;q++){if(p[q].height===l||p[q].width===290)return p[q];
((p[q].height||0)<l||(p[q].width||0)<290)&&(Q<0||(p[Q].height||0)<(p[q].height||0)||(p[Q].width||0)<(p[q].width||0))?Q=q:((p[q].height||0)>=l||(p[q].width||0)>=290)&&(H<0||(p[H].height||0)>(p[q].height||0)||(p[H].width||0)>(p[q].width||0))&&(H=q)}return p[H>=0?H:Q]},GH=function(p,l,Q,H){return{feature:Q.feature?Q.feature:"cards",
src_vid:p.context.videoData.videoId,annotation_id:l,ei:p.context.videoData.eventId||"",itct:H.trackingParams||""}},JZJ=function(p,l){if(l=AZ$(p,l))l===p.B&&(p.B=null),p.K.removeCueRange(l.i4.id),g.Eh(l.FM),g.GU(p.cards,l),p.sz(),pR(p)},Cm=function(p,l,Q){if(!p.X){p.hP.show();
p.IG=new g.x_(function(){g.HF(p.context.K.getRootNode(),g.gx.IV_DRAWER_OPEN)},0);
p.IG.start();p.aG.Z(p.L,"mousewheel",function(c){p.JP.start();c.preventDefault();c=c||window.event;var E=0;c.type=="MozMousePixelScroll"?E=0==(c.axis==c.HORIZONTAL_AXIS)?c.detail:0:window.opera?E=c.detail:E=c.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?c.wheelDeltaY/-30:c.wheelDeltaY/-1.2:c.wheelDelta/-1.6:c.wheelDeltaY/-3;if(c=E)p.L.scrollTop+=c});
p.X=!0;var H=g.DE();H&&p.KK&&p.S&&g.Q4(H,[p.KK,p.S]);l={TRIGGER_TYPE:l};for(var q=g.Z(p.cards),W=q.next();!W.done;W=q.next())W=W.value,W.xx||(W.xx=!0,fdU(p.context.logger,W.i4.AC.nH,l)),H&&g.Q4(H,[W.i4.XH]);aI(p.K);Q&&(p.W=new g.x_(function(){p.QQ=p.T;p.cL.focus()},330),p.W.start())}},O0=function(p){p.X&&(p.hP.hide(),g.XA(p.aG),g.WF(p.context.K.getRootNode(),g.gx.IV_DRAWER_OPEN),p.X=!1,aI(p.K),p.W&&p.W.stop(),p.W=new g.x_(function(){p.QQ&&(p.QQ.focus(),p.QQ=null)},330),p.W.start())},gUJ=function(p){g.qA(p.Jw(),
[g.gx.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.Vs(p.K,p.j,5);p.LG();p.T=g.Ga("ytp-cards-button",p.K.getRootNode());p.cL=g.Ga("iv-drawer-close-button",p.j);p.isInitialized=!0},s0J=function(p){p.HL.push(g.HT("iv-teaser-shown",p.m5,p));
p.HL.push(g.HT("iv-teaser-hidden",p.sJf,p));p.HL.push(g.HT("iv-teaser-clicked",p.hW,p));p.Wp=!0},bit=function(p,l){var Q;
return l.onClickCommand&&((Q=g.f(l.onClickCommand,g.TPt))==null?void 0:Q.targetId)==="engagement-panel-error-corrections"?(p.yQ=l,!0):!1},Pp5=function(p,l){p.yQ=l;
var Q=p.K.getVideoData();if(!Q)return!1;Q=g.I9(Q);if(Q==null?0:Q.markersMap)for(var H,q=0;((H=Q)==null?void 0:H.markersMap.length)>q;q++){var W=void 0,c=(W=Q)==null?void 0:W.markersMap[q];if(c.key==="ERROR_CORRECTION_MARKERS"&&(W=void 0,(c=(W=c.value)==null?void 0:W.markers)&&c.length>0))return H=void 0,l.startMs=((H=g.f(c[0],g.pEc))==null?void 0:H.timeRangeStartMillis)||0,p.yQ=null,!0}return!1},vE=function(p,l){if(!bit(p,l)||Pp5(p,l)){var Q=xJU(p,l);
if(Q){var H={i4:l,FM:Q.element,xx:!1};if(l.onClickCommand)p.K.D("web_infocards_teaser_show_logging_fix")&&(p.Wp||s0J(p),JZJ(p,l.id),Q=p.findLastIndex(H),g.qy(p.cards,Q,0,H));else{p.isInitialized||gUJ(p);JZJ(p,l.id);var q=p.findLastIndex(H);g.qy(p.cards,q,0,H);Q.CK(p.L,q);p.sz()}l.autoOpen?p.addCueRange(l.startMs,0x8000000000000,l.id,function(){p.X||(p.B=H,pR(p),UJ8(p,H),Cm(p,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(Q=p.context.K.getCurrentTime()*1E3,Q<5E3&&Q>l.startMs&&CpY(p,H),p.addCueRange(l.startMs,
l.startMs+1,l.id,function(){CpY(p,H)}),pR(p))}}},xJU=function(p,l){switch(l.type){case "simple":p=p.uO;
var Q=l.displayDomain?{J:"div",V:"iv-card-image-text",tP:l.displayDomain}:void 0;var H=N1U(l);Q={J:"div",pK:["iv-card"],G:[{J:"a",V:"iv-click-target",N:{href:l.url?JB(l.url)||"":""},G:[s0(l.imageUrl,Q),{J:"div",V:"iv-card-content",G:[gR("h2",void 0,l.title),H]}]}]};Q=new g.x(Q);bI(p,g.vO("iv-click-target",Q.element),l,l.url);l=Q;break;case "collaborator":p=p.uO;Q={J:"div",pK:["iv-card","iv-card-channel"],G:[{J:"a",pK:["iv-click-target"],N:{href:JB(l.url)||"","data-ytid":l.channelId},G:[s0(l.profileImageUrl),
{J:"div",V:"iv-card-content",G:[wbo(l),{J:"h2",V:"iv-card-primary-link",tP:l.title},SDo(l)]}]}]};Q=new g.x(Q);bI(p,g.vO("iv-click-target",Q.element),l,l.url);l=Q;break;case "playlist":p=p.uO;Q={J:"div",pK:["iv-card","iv-card-playlist"],G:[{J:"a",V:"iv-click-target",N:{href:JB(l.url)||""},G:[s0(l.NF,{J:"div",V:"iv-card-image-overlay",G:[{J:"span",V:"iv-card-playlist-video-count",tP:l.playlistVideoCount}]}),{J:"div",V:"iv-card-content",G:[wbo(l),gR("h2","iv-card-primary-link",l.title),SDo(l)]}]}]};
Q=new g.x(Q);bI(p,g.vO("iv-click-target",Q.element),l,l.url);l=Q;break;case "productListing":p=p.uO;var q=l.offers.length!=0;Q=["iv-card"];H="";var W=N1U(l);q&&(Q.push("iv-card-product-listing"),H="iv-card-primary-link",W=l.offers[0],q=[],W.price&&q.push({J:"div",V:"iv-card-offer-price",tP:W.price}),W.merchant&&q.push({J:"div",V:"iv-card-offer-merchant",tP:W.merchant}),W={J:"div",G:q});q=l.url?JB(l.url)||"":"";Q={J:"div",pK:Q,N:{tabindex:"0"},G:[{J:"a",pK:["iv-card-image","iv-click-target"],N:{style:"background-image: url("+
l.imageUrl+");",href:q,"aria-hidden":"true",tabindex:"-1"}},{J:"div",V:"iv-card-content",G:[l.sponsored?{J:"div",V:"iv-card-sponsored",G:["Sponsored",{J:"div",V:"iv-ad-info-container",G:[{J:"div",V:"iv-ad-info",tP:"{{adInfo}}"},{J:"div",V:"iv-ad-info-icon-container",G:[{J:"div",V:"iv-ad-info-icon"},{J:"div",V:"iv-ad-info-callout"}]}]}]}:"",{J:"a",V:"iv-click-target",N:{href:q},G:[gR("h2",H,l.title),W]}]}]};Q=new g.x(Q);H=g.H2("span");g.Ft(H,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
Q.gb(H,"adInfo");bI(p,g.vO("iv-click-target",Q.element),l,l.url);l=Q;break;case "video":p=p.uO;H=l.videoDuration?{J:"span",V:"iv-card-video-duration",tP:l.videoDuration}:void 0;W=l.isLiveNow?{J:"span",pK:["yt-badge","yt-badge-live"],tP:"LIVE NOW"}:null;q={J:"div",pK:["iv-card","iv-card-video"],G:[{J:"a",V:"iv-click-target",N:{href:((Q=l.url)==null?void 0:JB(Q))||""},G:[s0(l.NF,H),{J:"div",V:"iv-card-content",G:[wbo(l),gR("h2","iv-card-primary-link",l.title),SDo(l),W]}]}]};Q=new g.x(q);bI(p,g.vO("iv-click-target",
Q.element),l,l.url);l=Q;break;default:return null}return l},Oi8=function(p){if(p.B)return p.B.i4.type==="productListing";
if(p.K.D("enable_wn_infocards")){var l;return!((l=p.cards)==null||!l.length)&&g.Ds(p.cards,function(Q){return Q.i4.type==="productListing"})}return g.Ds(p.cards,function(Q){return Q.i4.type==="productListing"})},pR=function(p){g.tm(p.K.getRootNode(),"ytp-cards-shopping-active",Oi8(p))},CpY=function(p,l){if(!g.lE(p.K.getRootNode(),"ytp-cards-teaser-shown")){if(p.B!==l){var Q=g.DE(),H=p.B?p.B.i4.g7:p.g7;
Q&&H&&g.$9(Q,[H]);p.B=l;pR(p)}(Q=p.isInitialized&&p.Jw().style.display=="none")||(Q=p.context.K.getPlayerState(),H=Q===0&&p.context.K.getCurrentTime()===0,Q=!(Q===1||Q===3||H));Q||l.i4.teaserDurationMs&&p.K.Is(!0,{teaserText:l.i4.teaserText,durationMs:l.i4.teaserDurationMs,onClickCommand:l.i4.onClickCommand});p.nK.isActive()||((!p.X||!p.JP.isActive()&&p.ON)&&UJ8(p,l),p.nK.start(910+l.i4.teaserDurationMs))}},UJ8=function(p,l){p.Y.lk?(l=new wR([0,
p.L.scrollTop],[0,l.FM.offsetTop],600,ldU),p.context.X.listen(l,"animate",function(Q){p.L.scrollTop=Q.y}),p.context.X.listen(l,"finish",function(Q){p.L.scrollTop=Q.y}),l.play()):(p.Y.BD(!0),p.L.scrollTop=l.FM.offsetTop,p.Y.BD(!1))},lC=function(p){return p.B&&p.B.i4?p.B.i4:p.cards[0]&&p.cards[0].i4?p.cards[0].i4:null},AZ$=function(p,l){return g.CG(p.cards,function(Q){return Q.i4.id===l})},Q$=function(p,l,Q){PE.call(this,p,l);
this.annotation=Q;this.isActive=!1},vU5=function(p){var l=p.annotation.data;
"start_ms"in l&&"end_ms"in l&&p.addCueRange(Number(l.start_ms),Number(l.end_ms),p.annotation.id,function(){p.show()},function(){p.hide()})},$5=function(p,l,Q){Q$.call(this,p,l,Q);
this.L=null;this.S=!1;this.X=null;this.j=!1;this.B=this.C=this.W=null},mJU=function(p,l){var Q=Q===void 0?0:Q;
var H=xcU(l).width;g.MC(l,H);Q=new ii8(l,[H,l.offsetTop],[H-H-Q,l.offsetTop],200,pbY);g.A(p,Q);p.context.X.listen(Q,"begin",function(){g.Yx(l,!0)});
Q.play()},pO8=function(p,l){if(l.channel_name){var Q=p.createElement({J:"div",
pK:["iv-branding-context-name"],tP:l.channel_name}),H=p.createElement({J:"div",pK:["iv-branding-context-subscribe"]}),q=l.standalone_subscribe_button_data;q&&(p.B=new g.m5(q.subscribeText,q.subscribeCount,q.unsubscribeText,q.unsubscribeCount,!!q.enabled,!!q.classic,l.channel_id,!!q.subscribed,q.feature,l.session_data.itct,p.context.K,!1),p.B.CK(H));var W=p.createElement({J:"div",pK:["iv-branding-context-subscribe-caret"]}),c=p.createElement({J:"div",pK:["branding-context-container-inner"]});c.appendChild(W);
c.appendChild(Q);c.appendChild(H);g.Yx(c,!1);var E=p.createElement({J:"div",pK:["branding-context-container-outer"]});E.appendChild(c);g.cJ(E,"right",l.image_width+"px");g.W2(p.Jw(),E);p.X=new g.x_(function(){GRY(p,c,E)},500);
g.A(p,p.X);p.context.B.listen(p.Jw(),"mouseover",function(){iT8(p,c,E,W,l.image_height)});
p.context.B.listen(p.Jw(),"mouseout",function(){p.X.start()})}},iT8=function(p,l,Q,H,q){p.X.stop();
if(!p.j){var W=g.BJ(l);p.B||(l.style.width=g.jd(W.width,!0),Q.style.width=g.jd(W.width,!0));g.cJ(H,"top",W.height-Math.max(Math.min(W.height,q)/2+10,20)+"px");g.cJ(H,"right","1px");p.j=!0;g.Yx(l,!0);p.W=new g.x_(function(){g.HF(this.Jw(),"iv-branding-active")},0,p);
p.W.start()}},GRY=function(p,l,Q){g.WF(p.Jw(),"iv-branding-active");
p.C=new g.x_(function(){g.Yx(l,!1);p.B||(Q.style.width=g.jd(0,!0))},250);
p.C.start();p.j=!1},lyC=function(p,l,Q,H,q,W,c){this.B=p;
this.X=l;this.lO=Q;this.videoData=H;this.logger=q;this.K=W;this.L=c},Q$C=function(p,l,Q){Q$.call(this,p,l,Q);
var H=this;this.T=this.isCollapsed=this.Y=!1;this.C=5E3;this.L=this.X=this.B=this.j=null;this.S=this.createElement({J:"div",pK:["iv-promo-contents"]});this.W=new g.x_(function(){H.B.setAttribute("aria-hidden","true");g.Yx(H.X,!1);g.Yx(H.L,!0)},700,this);
g.A(this,this.W)},HT$=function(p){var l=p.annotation.data;
if(p.annotation.style==="cta")var Q=6;else if(p.annotation.style==="video"||p.annotation.style==="playlist")Q=7;p.C=l.collapsedelay_ms||p.C;var H=["iv-promo","iv-promo-inactive"];p.Jw().setAttribute("aria-hidden","true");p.Jw().setAttribute("aria-label","Promotion");p.Jw().tabIndex=0;var q=p.annotation.D0(),W=l.image_url;if(W){var c=p.createElement({J:"div",pK:["iv-promo-img","iv-click-target"]});W=p.createElement({J:"img",N:{src:W,"aria-hidden":"true"}});c.appendChild(W);l.video_duration&&!l.is_live?
(W=p.createElement({J:"span",V:"iv-promo-video-duration",tP:l.video_duration}),c.appendChild(W)):l.playlist_length&&(W=p.createElement({J:"span",V:"iv-promo-playlist-length",tP:l.playlist_length.toString()}),c.appendChild(W));q&&xo(p,c,q,p.annotation.id,l.session_data,void 0,Q)}q?(W=p.createElement({J:"a",V:"iv-promo-txt"}),g.AZ(W,JB(q)),p.B=W):p.B=p.createElement({J:"div",V:"iv-promo-txt"});switch(p.annotation.style){case "cta":case "website":var E=p.createElement({J:"p",G:[{J:"strong",tP:l.text_line_1}]});
var R=p.createElement({J:"p",G:[{J:"span",V:"iv-promo-link",tP:l.text_line_2}]});if(W=l.text_line_3){H.push("iv-promo-website-card-cta-redesign");var F=p.createElement({J:"button",pK:["iv-promo-round-expand-icon","ytp-button"]});W=p.createElement({J:"button",pK:["iv-button","iv-promo-button"],G:[{J:"span",V:"iv-button-content",tP:W}]});var r=p.createElement({J:"div",V:"iv-promo-button-container"});r.appendChild(W);q&&xo(p,p.Jw(),q,p.annotation.id,l.session_data,void 0,Q)}g.HF(p.B,"iv-click-target");
q&&xo(p,p.B,q,p.annotation.id,l.session_data,void 0,Q);break;case "playlist":case "video":E=p.createElement({J:"p",G:[{J:"span",tP:l.text_line_1}]}),R=p.createElement({J:"p",G:[{J:"strong",tP:l.text_line_2}]}),l.is_live&&(E=R,R=p.createElement({J:"span",pK:["yt-badge","iv-promo-badge-live"],tP:"LIVE NOW"})),g.HF(p.B,"iv-click-target"),q&&xo(p,p.B,q,p.annotation.id,l.session_data,void 0,Q),H.push("iv-promo-video")}E&&p.B.appendChild(E);R&&p.B.appendChild(R);p.S.appendChild(p.B);r&&p.S.appendChild(r);
Q=p.createElement({J:"div",V:"iv-promo-actions"});p.L=p.createElement({J:"button",pK:["iv-promo-expand","ytp-button"]});p.L.title="Expand";p.context.B.listen(p.L,"click",function(d){$b$(p,5E3,d)});
Q.appendChild(p.L);g.Yx(p.L,!1);p.context.B.listen(p.Jw(),"mouseover",p.WiL,p);p.context.B.listen(p.Jw(),"mouseout",p.COQ,p);p.context.B.listen(p.Jw(),"touchend",function(d){$b$(p,5E3,d)});
p.X=p.createElement({J:"button",pK:["iv-promo-close","ytp-button"]});p.X.title="Close";p.context.B.listen(p.X,"click",p.annotation.style==="cta"&&l.text_line_3?p.jGL:p.FiQ,p);Q.appendChild(p.X);g.qA(p.Jw(),H);c&&(g.W2(p.Jw(),c),F&&c.appendChild(F));g.W2(p.Jw(),p.S);g.W2(p.Jw(),Q)},$b$=function(p,l,Q){Q.stopPropagation();
qQo(p);WJo(p,l);p.B.focus()},cTC=function(p){p.isCollapsed||p.T||p.j||(g.HF(p.Jw(),"iv-promo-collapsed"),p.isCollapsed=!0,p.W.start())},qQo=function(p){p.W.stop();
p.isCollapsed&&(g.cF(p.Jw(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),p.isCollapsed=!1,p.B&&p.B.removeAttribute("aria-hidden"),g.Yx(p.L,!1),g.Yx(p.X,!0))},WJo=function(p,l){p.j||(p.j=g.kE(function(){tQS(this);
cTC(this)},l,p))},tQS=function(p){p.j&&(g.Jg.clearTimeout(p.j),p.j=null)},EBY=function(p){this.K=p},fdU=function(p,l,Q){l&&(Q?HP(p,l.map(function(H){return g.DW(H,Q)})):HP(p,l))},HP=function(p,l,Q,H){var q=1,W=void 0,c=-1;
if(Q){var E=!1;W=function(){q--;q||E||(clearTimeout(c),E=!0,Q())};
c=setTimeout(function(){E=!0;Q()},1E3)}l=g.Z(l||[]);
for(var R=l.next();!R.done;R=l.next())R=R.value,q++,g.JR(R,W);H&&(q++,H!==0&&p.K.sendVideoStatsEngageEvent(H,W))},RdU=function(p){g.eH.call(this,p);
var l=this;this.HL=this.T=!1;this.loadNumber=0;this.C={};this.logger=new EBY(this.player);this.j=new g.kg(this);this.W=this.S=null;this.events=new g.kg(this);this.uJ=this.Y=this.B=null;this.yQ=[];g.A(this,this.j);this.j.Z(this.player,"onVideoAreaChange",function(){l.publish("onVideoAreaChange")});
this.j.Z(this.player,"onHideControls",function(){l.publish("onHideControls")});
this.j.Z(this.player,"onShowControls",function(){l.publish("onShowControls")});
this.j.Z(this.player,"resize",function(H){l.publish("resize",H)});
this.j.Z(this.player,"presentingplayerstatechange",function(H){l.publish("presentingplayerstatechange",H)});
this.subscribe("presentingplayerstatechange",this.wu,this);this.subscribe("resize",this.Ia,this);this.player.U().QQ.subscribe("vast_info_card_add",this.LC,this);g.A(this,this.events);this.uO=this.createElement({J:"div",V:"video-custom-annotations"});this.L=new g.x({J:"div",pK:["ytp-player-content","ytp-iv-player-content"]});g.A(this,this.L);g.Vs(this.player,this.L.element,4);this.L.hide();this.X=new g.x({J:"div",pK:["ytp-iv-video-content"]});g.A(this,this.X);p=this.createElement({J:"div",V:"video-annotations"});
p.appendChild(this.uO);this.X.element.appendChild(p);this.vc()&&this.load();var Q=this.createElement({J:"style"});(g.OQ("HEAD")[0]||document.body).appendChild(Q);this.addOnDisposeCallback(function(){g.Eh(Q)});
if(p=Q.sheet)p.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),p.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),p.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),p.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),p.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),p.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),p.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),p.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),p.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),p.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},FJb=function(p){p=p.createElement({J:"div",
pK:["annotation","annotation-type-custom"]});g.Yx(p,!1);return p},rTo=function(p,l){l=!l.isCued()&&!g.U(l,1024);
p.L.BD(l);p.X.BD(l)},dbo=function(p,l,Q){p.T=!0;
p.W=g.IF(l,Q)},j$8=function(p,l){for(var Q={},H=g.Z(l.attributes),q=H.next();!q.done;q=H.next())q=q.value,Q[q.name]=q.nodeValue;
for(H=0;H<l.childNodes.length;H++)if(q=l.childNodes[H],g.CW(q)&&q.nodeType==1){if(Q[q.tagName])var W=Q[q.tagName];else if(q.tagName==="data"){q.childNodes.length>0&&(W=q.childNodes[0].nodeValue,Q[q.tagName]=typeof W==="string"?W.trim():W);continue}else W=[],Q[q.tagName]=W;q&&q.tagName==="TEXT"?q.childNodes.length===1&&q.childNodes[0].nodeType===3?W.push(q.childNodes[0].nodeValue):W.push(""):q&&W.push(j$8(p,q))}return Q},zdt=function(p){var l=p.player.getVideoData();
if(l.hP){var Q=p.player.U().QQ.get(l.videoId);if(Q){var H={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(q,W,c){q=p.loadNumber;W=l.videoId;p.loaded&&p.loadNumber===q&&p.player.getVideoData().videoId===W&&(c=g.rp(c)&&c.responseXML?c.responseXML:null)&&MQb(p,c)}};
g.i5()&&(H.onFinish=TQY(p,H.onFinish));H.postParams={ic_only:"1"};edo(H,Q);p.T=!0;g.IF(l.hP,H)}}},edo=function(p,l){p.method="POST";
p.postParams=p.postParams||{};l.Rc&&(p.postParams.ic_coll=l.Rc);l.jz&&(p.postParams.ic_xml=l.jz);l.Ct&&(p.postParams.ic_track=l.Ct)},ZTt=function(p){var l=new g.x({J:"div"});
g.Yx(l.element,!1);var Q=new yZK(p.player,l.element,qP(p));g.A(Q,l);l.CK(p.L.element);Q.RS();return Q},YQo=function(p,l){var Q,H;
if(l=(Q=l.getWatchNextResponse())==null?void 0:(H=Q.cards)==null?void 0:H.cardCollectionRenderer)p.HL=!0,BQb(p,l),l.headerText&&p.uJ&&(Q=g.Mq(l.headerText),p.uJ.setAttribute("title",Q))},qP=function(p){if(!p.Y){var l=new Q0o(p);
g.A(p,l);var Q=new g.V5(p);g.A(p,Q);p.Y=new lyC(l,Q,p.player.U(),p.player.getVideoData(),p.logger,p.player,p.UM)}return p.Y},MQb=function(p,l){var Q=!1,H=l.getElementsByTagName("annotations");
if(H&&!(H.length<1)&&(H=H[0].getAttribute("itct"))){var q=g.DE();if(q){var W=g.IO();W&&g.vH(g.x7)(void 0,q,W,[g.hc(H)])}}l=l.getElementsByTagName("annotation");for(H=0;H<l.length;H++){W=j$8(p,l[H]);q=null;try{if(W){var c=W.id,E=/.+/;var R=typeof c==="string"&&E!=null&&c!=null&&c.match(E)?c:"";var F=AB(W.type,hd5),r=AB(W.style,ay$),d=zSC(W.data),M=d.length!==0?JSON.parse(d):{};var T=W.action;W=IdC;if(T==null)var e=null;else if(g.UX(T)){E=[];for(var Y=g.Z(T),a=Y.next();!a.done;a=Y.next()){var D=W(a.value);
D&&E.push(D)}e=E}else{var X=W(T);e=X?[X]:[]}q=R&&F?new DJb(R,F,r,e,M):null}else q=null}catch($l){}if(q)if(q.type==="branding"||q.type==="promotion"){W=p;E=q;var N=FJb(W),u=null;switch(E.type){case "branding":if(W.player.U().mT)break;W.L.element.appendChild(N);u=new $5(N,qP(W),E);break;case "promotion":g.Vs(W.player,N,4),u=new Q$C(N,qP(W),E)}u&&u.RS();if(W=u)g.A(p,W),p.C[q.id]=W}else if(q.type==="card"||q.type==="drawer"){p.B||(p.B=ZTt(p),g.A(p,p.B));if(q.type==="card"){N=p.B;var J=(Q=q)&&Q.data&&
Q.data.card_type;q=Q.data;if(J)switch(W=q.tracking||{},W={nH:W.impression,click:W.click,close:W.close,Nk:W.teaser_impression,u0:W.teaser_click},E=q.tracking_params||{},u=null,J){case "collaborator":Q={id:Q.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,AC:W,XH:E.card?g.hc(E.card):null,Yo:E.teaser?g.hc(E.teaser):null,g7:E.icon?g.hc(E.icon):
null,channelId:q.channel_id,customMessage:q.custom_message?q.custom_message:null,profileImageUrl:q.image_url,title:q.title,metaInfo:q.meta_info,url:fm({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};vE(N,Q);break;case "playlist":Q={id:Q.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,AC:W,
XH:E.card?g.hc(E.card):null,Yo:E.teaser?g.hc(E.teaser):null,g7:E.icon?g.hc(E.icon):null,NF:q.image_url,playlistVideoCount:q.playlist_video_count,customMessage:q.custom_message?q.custom_message:null,title:q.title,metaInfo:q.meta_info,url:fm({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};vE(N,Q);break;case "productListing":q.signin_url&&(u=fm({target:"current",value:q.signin_url}));J=[];for(var iP=q.offers||[],C=0;C<iP.length;C++)J.push(new VAo(g.$B(iP[C].merchant),
g.$B(iP[C].price)));Q={id:Q.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,AC:W,XH:E.card?g.hc(E.card):null,Yo:E.teaser?g.hc(E.teaser):null,g7:E.icon?g.hc(E.icon):null,imageUrl:q.image_url,displayDomain:q.display_domain?q.display_domain:null,showLinkIcon:!!q.show_link_icon,rG:q.button_icon_url?q.button_icon_url:null,title:q.title,customMessage:q.custom_message?
q.custom_message:null,url:fm({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),XYf:u,tHf:q.signin_title?q.signin_title:void 0,LBj:q.signin_message?q.signin_message:void 0,offers:J,onClickCommand:null};vE(N,Q);break;case "simple":Q={id:Q.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,AC:W,XH:E.card?g.hc(E.card):
null,Yo:E.teaser?g.hc(E.teaser):null,g7:E.icon?g.hc(E.icon):null,imageUrl:q.image_url,displayDomain:q.display_domain?q.display_domain:null,showLinkIcon:!!q.show_link_icon,rG:q.button_icon_url?q.button_icon_url:null,title:q.title,customMessage:q.custom_message?q.custom_message:null,url:fm({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};vE(N,Q);break;case "video":Q={id:Q.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,
startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,AC:W,XH:E.card?g.hc(E.card):null,Yo:E.teaser?g.hc(E.teaser):null,g7:E.icon?g.hc(E.icon):null,NF:q.image_url,videoDuration:q.video_duration||null,customMessage:q.custom_message?q.custom_message:null,title:q.title,metaInfo:q.meta_info,isLiveNow:!!q.is_live_now,url:fm({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null},vE(N,Q)}}else L6Y(p.B,q);Q=!0}}Q&&
(aI(p.player),p.Ia())},BQb=function(p,l){var Q=!1;
p.B||(p.B=ZTt(p),g.A(p,p.B));for(var H=g.Z(l.cards||[]),q=H.next();!q.done;q=H.next())q=q.value,q.cardRenderer&&(oUo(p.B,q.cardRenderer),Q=!0);if(Q){var W;(W=p.player.getVideoData())!=null&&g.SS(W)||(Q=p.B,H=l.headerText?g.Mq(l.headerText):"",g.Ft(Q.Pp,H),Q.T&&Q.T.setAttribute("title",H),Q.context.videoData.eventId&&(Q.eventId=Q.context.videoData.eventId),Q.KK=l.trackingParams?g.hc(l.trackingParams):null,Q.S=l.closeButton.infoCardIconRenderer.trackingParams?g.hc(l.closeButton.infoCardIconRenderer.trackingParams):
null,Q.g7=l.icon.infoCardIconRenderer.trackingParams?g.hc(l.icon.infoCardIconRenderer.trackingParams):null,p.Ia());aI(p.player)}},Iyb=function(p,l,Q,H,q){if(!p.player.U().mT){var W=[];
l.navigationEndpoint&&g.f(l.navigationEndpoint,g.hO)&&g.f(l.navigationEndpoint,g.hO).browseId&&W.push(new YD$("openUrl","click",new Zi8("/channel/"+g.f(l.navigationEndpoint,g.hO).browseId,"new",!0,!0)));var c=l.watermark.thumbnails[0];H={channel_name:l.channelName,end_ms:l.endTimeMs,image_height:c.height,image_type:1,image_url:c.url,image_width:c.width,is_mobile:!1,session_data:{annotation_id:Q,ei:q,feature:"iv",itct:l.trackingParams,src_vid:H},start_ms:l.startTimeMs};if(l.subscribeButton&&g.f(l.subscribeButton,
g.af)){H.channel_id=g.f(l.subscribeButton,g.af).channelId;var E;l=g.f(l.subscribeButton,g.af);c=q=null;l.subscribed?(l.subscriberCountWithUnsubscribeText&&(q=g.Mq(l.subscriberCountWithUnsubscribeText)),l.subscriberCountText&&(c=g.Mq(l.subscriberCountText))):(l.subscriberCountText&&(q=g.Mq(l.subscriberCountText)),l.subscriberCountWithSubscribeText&&(c=g.Mq(l.subscriberCountWithSubscribeText)));var R,F=((R=g.f((E=l.signInEndpoint)==null?void 0:E.commandMetadata,g.TL))==null?void 0:R.url)||"";E={subscribeText:g.Mq(l.unsubscribedButtonText),
subscribeCount:q||"",unsubscribeText:g.Mq(l.subscribedButtonText),unsubscribeCount:c||"",enabled:l.enabled||!1,classic:!1,subscribed:l.subscribed||!1,feature:"iv",signInUrl:F};H.standalone_subscribe_button_data=E}W=new DJb(Q,"branding","branding",W,H);E=FJb(p);p.L.element.appendChild(E);W=new $5(E,qP(p),W);W.RS();g.A(W,W);p.C[Q]=W}},TQY=function(p,l){return function(){var Q=g.VJ.apply(0,arguments);
p.vL()||p.yQ.push(g.A7.Ug(function(){l.apply(null,g.h(Q))}))}},Dbo=function(p){return p==="annotation-editor"||p==="live-dashboard"};
g.aM.prototype.Is=g.ci(45,function(p,l){var Q=g.VK(this.Aw());Q&&Q.Is(p,l)});
var D0={},nm=null;g.Qo(wR,g.E2);g.t=wR.prototype;g.t.getDuration=function(){return this.duration};
g.t.play=function(p){if(p||this.B==0)this.progress=0,this.coords=this.L;else if(this.isPlaying())return!1;Xo(this);this.startTime=p=g.pG();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.j=this.startTime;this.progress||this.Jh();this.mf("play");this.isPaused()&&this.mf("resume");this.B=1;var l=g.vi(this);l in D0||(D0[l]=this);O5G();v2Y(this,p);return!0};
g.t.stop=function(p){Xo(this);this.B=0;p&&(this.progress=1);mcJ(this,this.progress);this.onStop();this.Mv()};
g.t.pause=function(){this.isPlaying()&&(Xo(this),this.B=-1,this.mf("pause"))};
g.t.Xf=function(){this.B==0||this.stop(!1);this.mf("destroy");wR.LO.Xf.call(this)};
g.t.destroy=function(){this.dispose()};
g.t.N0=function(){this.mf("animate")};
g.t.mf=function(p){this.dispatchEvent(new Gd$(p,this))};
g.Qo(Gd$,g.JQ);g.Qo(Sj,wR);Sj.prototype.X=function(){};
Sj.prototype.N0=function(){this.X();Sj.LO.N0.call(this)};
Sj.prototype.Mv=function(){this.X();Sj.LO.Mv.call(this)};
Sj.prototype.Jh=function(){this.X();Sj.LO.Jh.call(this)};
g.Qo(ii8,Sj);ii8.prototype.X=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.z(Q0o,g.L);g.t=Q0o.prototype;g.t.listen=function(p,l,Q,H){Q=(0,g.my)(Q,H||this.L);p=g.Bs(p,l,Q);this.B.push(p);return p};
g.t.GM=function(p,l,Q,H){Q=(0,g.my)(Q,H||this.L);p=UcS(p,l,Q);this.B.push(p);return p};
g.t.Cg=function(p){g.Y$(p);g.GU(this.B,p)};
g.t.removeAll=function(){g.Y$(this.B);this.B.length=0};
g.t.Xf=function(){this.removeAll();g.L.prototype.Xf.call(this)};g.z(qDo,g.eH);g.t=qDo.prototype;g.t.load=function(){g.eH.prototype.load.call(this);if(!ko(this)){var p=g.Wvy(this.player.getVideoData());p?(p=Hib(p,W6G(this)),uI(this,p,!1)):cZo(this)}};
g.t.unload=function(){uI(this,null);this.j&&(this.j.abort(),this.j=null);g.eH.prototype.unload.call(this)};
g.t.oX=function(p,l){return ko(this)?p==="loadCustomEndscreenRenderer"?(p=Hib(l,"new"),uI(this,p),!0):null:null};
g.t.getOptions=function(){return ko(this)?["loadCustomEndscreenRenderer"]:[]};
g.t.GF=function(){if(this.endscreen&&this.endscreen.elements){var p=this.player.getVideoContentRect();if(p&&p.width!==0&&p.height!==0){var l=this.player.getPlayerSize();if(l&&l.width!==0&&l.height!==0){var Q=p.width/p.height;var H=0;for(var q=-1,W=0;W<nBY.length;W++){var c=Math.abs(l.width-nBY[W]);if(q===-1||H>=c)q=W,H=c}H=XOU[q];this.X&&g.cJ(this.X.element,"outline-width",Math.max(l.width,l.height)+"px");for(l=0;l<this.endscreen.elements.length;++l)if(W=this.endscreen.elements[l].id,q=this.L[W],
c=this.C[W],q&&c){var E=c.width*Q/c.aspectRatio,R=Math.round(c.width*p.width);W=Math.round(E*p.height);var F=p.left+Math.round(c.left*p.width),r=p.top+Math.round(c.top*p.height);g.Z_(q.element,R,W);g.MC(q.element,F,r);g.cF(q.element,wO$);R>256||W>256?g.HF(q.element,"ytp-ce-large-round"):R>96||W>96?g.HF(q.element,"ytp-ce-medium-round"):g.HF(q.element,"ytp-ce-small-round");g.cF(q.element,SQY);R=c.left+c.width/2;c=c.top+E/2;g.HF(q.element,R<=.5&&c<=.5?"ytp-ce-top-left-quad":R>.5&&c<=.5?"ytp-ce-top-right-quad":
R<=.5&&c>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.cF(q.element,XOU);g.HF(q.element,H);(q=g.mJ(document,"div","ytp-ce-expanding-overlay-body",q.element)[0])&&g.cJ(q,"height",W+"px")}}}}};
g.t.onCueRangeEnter=function(p){if(this.endscreen)if(p.getId()==="ytp-ce-in-endscreen")oI(this,this.endscreen.impressionUrls),(p=g.DE())&&this.endscreen.visualElement&&g.lH(p,this.endscreen.visualElement),this.B&&(g.HF(this.B,"ytp-ce-element-show"),this.B.removeAttribute("aria-hidden"),this.player.u3()?g.HF(this.B,"ytp-ce-hide-button-lower"):g.WF(this.B,"ytp-ce-hide-button-lower"));else{p=p.getId().substring(15);var l=this.L[p],Q=this.C[p];g.HF(l.element,"ytp-ce-element-show");l.element.removeAttribute("aria-hidden");
l=this.player.getRootNode();g.HF(l,"ytp-ce-shown");oI(this,Q.impressionUrls);(l=g.DE())&&g.lH(l,Q.visualElement);this.player.U().S&&this.player.bO("endscreenelementshown",p)}};
g.t.onCueRangeExit=function(p){if(p.getId()==="ytp-ce-in-endscreen")this.B&&(g.WF(this.B,"ytp-ce-element-show"),this.B.setAttribute("aria-hidden","true"));else{p=p.getId().substring(15);var l=this.L[p];g.WF(l.element,"ytp-ce-element-show");l.element.setAttribute("aria-hidden","true");l=this.player.getRootNode();g.WF(l,"ytp-ce-shown");this.player.U().S&&this.player.bO("endscreenelementhidden",p)}};
g.t.GPm=function(p){var l=this;p.target===window&&(new g.x_(function(){for(var Q=g.Z(Object.values(l.L)),H=Q.next();!H.done;H=Q.next())g.cF(H.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.t.BD=function(p){for(var l=g.Z(Object.values(this.L)),Q=l.next();!Q.done;Q=l.next())Q=Q.value,p?Q.element.setAttribute("hidden",""):Q.element.removeAttribute("hidden")};
g.t.JoD=function(p){this.B&&this.player.getRootNode().removeChild(this.B);p&&(g.HF(p,"ytp-ce-hide-button-container"),this.B=p,g.Vs(this.player,this.B,4))};
var nBY=[346,426,470,506,570,640,853,1280,1920],XOU="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),SQY=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],wO$=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var B1C={qGj:"current",GYD:"new"};var hS5={CLOSE:"close",lvN:"openUrl",SUBSCRIBE:"subscribe"},ad5={cCi:"click",CLOSE:"close",WuL:"hidden",e$O:"rollOut",iLO:"rollOver",P6i:"shown"};DJb.prototype.D0=function(){var p=nUb(this,function(l){return l.type==="openUrl"&&l.url!=null});
return p?p.url:null};
var ay$={XFK:"anchored",u1:"branding",CHANNEL:"channel",K6f:"cta",s8d:"highlightText",tcP:"label",PLAYLIST:"playlist",POPUP:"popup",ATL:"speech",SUBSCRIBE:"subscribe",QPi:"title",VIDEO:"video",HVO:"website"},hd5={u1:"branding",mqd:"card",R2N:"drawer",O2K:"highlight",adD:"marker",vAQ:"promotion",TEXT:"text",zGL:"widget"};g.z(PE,g.L);g.t=PE.prototype;g.t.addCueRange=function(p,l,Q,H,q){p=new g.pP(p,l,{id:Q,namespace:"annotations_module"});H&&this.ZD.set(p,H);q&&this.ej.set(p,q);this.context.K.cn([p],1)};
g.t.RS=function(){this.context.L.subscribe("resize",this.sz,this)};
g.t.Jw=function(){return this.element};
g.t.Yv=function(p,l,Q,H,q,W){if(this.Yd)return!1;W&&(W.stopPropagation(),W.preventDefault());this.navigate(p,Q,H,q);return!1};
g.t.show=function(){};
g.t.hide=function(){};
g.t.destroy=function(){g.Eh(this.Jw())};
g.t.sz=function(){};
g.t.navigate=function(p,l,Q,H){var q=this,W=JB(p);if(W){var c=uio(W,p.target),E=function(){p.B&&q.context.K.pauseVideo();var R=q.context.videoData.ZJ||!1,F=g.Ql(W||"");R&&F&&(F.v||F.list)?q.context.K.pL(F.v,l,F.list,!1):g.gh(W||"",c==="current"?"_top":void 0,l)};
c==="new"&&(E(),E=null);HP(this.context.logger,Q,E,H);kRo(W)||(Q=g.DE(),H=l.itct,Q&&H&&g.H0(Q,g.hc(H)))}};
g.t.Xf=function(){this.ZD.clear();this.ej.clear();g.L.prototype.Xf.call(this)};
g.t.createElement=function(p){p=new g.x(p);g.A(this,p);return p.element};g.z(yZK,PE);g.t=yZK.prototype;g.t.mu=function(){this.yQ&&vE(this,this.yQ)};
g.t.isAvailable=function(){var p;if(p=!!this.cards.length)(p=this.K.getRootNode())?(p=g.BJ(p),p=173<p.width&&173<p.height):p=!1;return p};
g.t.sz=function(){var p=this.isAvailable();g.Yx(this.Jw(),p);g.tm(this.context.K.getRootNode(),g.gx.IV_DRAWER_ENABLED,p);aI(this.K)};
g.t.destroy=function(){this.K.Is(!1);try{this.K.getRootNode().removeChild(this.j)}catch(p){}g.q_(this.HL);g.XA(this.aG);this.IG&&this.IG.dispose();this.W&&this.W.dispose();PE.prototype.destroy.call(this)};
g.t.LG=function(){var p=this;this.context.B.listen(g.Ga("iv-drawer-close-button",this.j),"click",this.Xa,this);this.context.B.listen(this.L,"touchend",function(){p.JP.start()});
this.context.B.listen(this.L,"scroll",this.h$,this);this.context.L.subscribe("onHideControls",function(){p.ON=!0});
this.context.L.subscribe("onShowControls",function(){p.ON=!1});
this.context.L.subscribe("onVideoAreaChange",function(){p.ON=g.lE(p.K.getRootNode(),"ytp-autohide")});
this.HL.push(g.HT("iv-button-shown",this.OTW,this));this.HL.push(g.HT("iv-button-hidden",this.ppi,this));s0J(this)};
g.t.findLastIndex=function(p){if(this.cards.length===0)return 0;var l=g.Ob(this.cards,function(Q){return p.i4.startMs>Q.i4.startMs||p.i4.startMs===Q.i4.startMs&&p.i4.timestamp>=Q.i4.timestamp?!0:!1});
return l===-1?0:l+1};
g.t.Xa=function(){if(this.X){HP(this.context.logger,lC(this).AC.close);var p=g.DE();p&&this.S&&g.H0(p,this.S);O0(this)}};
g.t.h$=function(){g.tm(this.j,"iv-drawer-scrolled",this.L.scrollTop>0)};
g.t.OTW=function(){var p=g.DE(),l=lC(this);l=l?l.g7:this.g7;p&&l&&g.Q4(p,[l])};
g.t.ppi=function(){var p=g.DE(),l=lC(this);l=l?l.g7:this.g7;p&&l&&g.$9(p,[l])};
g.t.m5=function(){var p=lC(this);HP(this.context.logger,p.AC.Nk);var l=g.DE();if(l&&p)if(this.K.D("web_infocards_teaser_show_logging_fix")){var Q=[];p.Yo&&Q.push(p.Yo);p.g7&&Q.push(p.g7);Q.length>0&&g.Q4(l,Q)}else g.Q4(l,[p.Yo,p.g7])};
g.t.sJf=function(){var p=g.DE(),l=lC(this);p&&l&&g.$9(p,[l.Yo])};
g.t.hW=function(p){var l=lC(this),Q=g.DE();this.B?p?(p=this.context.logger,HP(p,l.AC.u0),p.K.sendVideoStatsEngageEvent(4,void 0),Q&&l.Yo&&g.H0(Q,l.Yo)):(p=this.context.logger,HP(p,l.AC.u0),p.K.sendVideoStatsEngageEvent(4,void 0),Q&&l.g7&&g.H0(Q,l.g7)):(p=this.context.logger,HP(p,l.AC.u0),p.K.sendVideoStatsEngageEvent(4,void 0),Q&&this.g7&&g.H0(Q,this.g7))};g.z(Q$,PE);Q$.prototype.RS=function(){PE.prototype.RS.call(this);vU5(this)};
Q$.prototype.show=function(){PE.prototype.show.call(this);var p=g.DE(),l=this.annotation.data;p&&l&&(l=l.session_data)&&g.Q4(p,[g.hc(l.itct)])};
Q$.prototype.hide=function(){PE.prototype.hide.call(this);var p=g.DE(),l=this.annotation.data;p&&l&&(l=l.session_data)&&g.$9(p,[g.hc(l.itct)])};g.z($5,Q$);
$5.prototype.show=function(){if(!this.isActive){Q$.prototype.show.call(this);if(!this.S){g.HF(this.Jw(),"iv-branding");var p=this.annotation.data;this.L=this.createElement({J:"img",pK:["branding-img","iv-click-target"],N:{"aria-label":"Channel watermark",src:p.image_url,width:p.image_width,height:p.image_height}});g.Yx(this.L,!1);var l=this.createElement({J:"button",pK:["branding-img-container","ytp-button"]});l.appendChild(this.L);this.Jw().appendChild(l);var Q=this.annotation.D0();Q&&xo(this,l,
Q,this.annotation.id,p.session_data);this.context.K.D("disable_branding_context")||pO8(this,p);this.S=!0}g.Yx(this.Jw(),!0);this.isActive=!0;if(this.L){try{mJU(this,this.L)}catch(H){}g.HF(this.context.K.getRootNode(),"ytp-branding-shown");this.context.K.getRootNode().style.setProperty("--branding-image-width",this.L.getAttribute("width")+"px")}}};
$5.prototype.hide=function(){this.isActive&&(Q$.prototype.hide.call(this),g.Yx(this.Jw(),!1),this.isActive=!1,g.WF(this.context.K.getRootNode(),"ytp-branding-shown"))};
$5.prototype.destroy=function(){this.B&&(this.B.dispose(),this.B=null);g.WF(this.context.K.getRootNode(),"ytp-branding-shown");Q$.prototype.destroy.call(this)};g.z(Q$C,Q$);g.t=Q$C.prototype;g.t.show=function(){this.isActive||(Q$.prototype.show.call(this),this.Y||(HT$(this),this.Y=!0),g.Yx(this.Jw(),!0),g.kE(function(){g.WF(this.Jw(),"iv-promo-inactive")},100,this),this.Jw().removeAttribute("aria-hidden"),this.isActive=!0,tQS(this),qQo(this),WJo(this,this.C))};
g.t.hide=function(){this.isActive&&(g.HF(this.Jw(),"iv-promo-inactive"),this.isActive=!1,this.Jw().setAttribute("aria-hidden","true"))};
g.t.Yv=function(p,l,Q,H,q,W){return this.isCollapsed?!1:Q$.prototype.Yv.call(this,p,l,Q,H,q,W)};
g.t.WiL=function(p){this.T=!0;$b$(this,500,p)};
g.t.COQ=function(){this.T=!1;cTC(this)};
g.t.FiQ=function(p){p.stopPropagation();this.hide()};
g.t.jGL=function(p){p.stopPropagation();tQS(this);this.isCollapsed=!0;g.HF(this.Jw(),"iv-promo-collapsed-no-delay");this.W.start()};
g.t.destroy=function(){this.W.dispose();Q$.prototype.destroy.call(this)};g.z(RdU,g.eH);g.t=RdU.prototype;g.t.oX=function(p,l){if(!Dbo(this.player.U().playerStyle))return null;switch(p){case "loadCustomAnnotationsXml":return(p=g.xk(l))&&MQb(this,p),!0;case "removeCustomAnnotationById":return l&&this.B&&(JZJ(this.B,l),aI(this.player)),!0}return null};
g.t.getOptions=function(){return Dbo(this.player.U().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.t.vc=function(){var p=this.player.U(),l=this.player.getVideoData(),Q=p.annotationsLoadPolicy||l.annotationsLoadPolicy;return g.GZ(l)||this.player.isMutedByEmbedsMutedAutoplay()?!1:Q===1&&!l.gp||p.QQ.get(l.videoId)||g.NZ(l)||g.VO(l)?!0:!1};
g.t.Ia=function(){if(this.X){var p=this.player.N3().getVideoContentRect(!0);g.Z_(this.X.element,p.width,p.height);g.MC(this.X.element,p.left,p.top)}if(this.B){var l=this.player.hk();p=this.B;l=l.width;g.tm(p.j,"iv-drawer-small",l<=426);g.tm(p.j,"iv-drawer-big",l>=1280)}};
g.t.wu=function(p){rTo(this,p.state);g.U(p.state,2)&&(this.u3()&&this.dS()&&this.player.getPresentingPlayerType()!==2&&this.ZG(!1),this.Is(!1))};
g.t.load=function(){function p(c){var E=l.loadNumber;l.W=null;l.loaded&&l.loadNumber===E&&l.player.getVideoData().videoId===H&&(c=g.rp(c)&&c.responseXML?c.responseXML:null)&&(MQb(l,c),g.HF(l.player.getRootNode(),"iv-module-loaded"))}
var l=this;g.eH.prototype.load.call(this);rTo(this,this.player.getPlayerStateObject());this.loadNumber++;var Q=this.player.getVideoData(),H=Q.videoId;g.i5()&&(p=TQY(this,p));var q={format:"XML",onFinish:p,onError:function(){l.W=null},
urlParams:{}};Q.isPharma&&(q.urlParams.pharma="1");q.method="POST";q.withCredentials=!0;var W=this.player.U().QQ.get(H);W&&edo(q,W);W=W&&(W.jz||W.Rc);if(!Q.qd||W)Q.hP?dbo(this,Q.hP,q):(this.S=function(){if(!l.T)l.onVideoDataChange(q);var c=l.player.getVideoData();(c==null?0:g.SS(c))&&!l.HL&&YQo(l,c)},this.player.addEventListener("videodatachange",this.S));
g.Vs(this.player,this.X.element,4);this.Ia();(W=g.NZ(Q))&&BQb(this,W);(W=g.VO(Q))&&W.featuredChannel&&Iyb(this,W.featuredChannel,W.annotationId||"branding",Q.videoId||null,Q.eventId||null);this.uJ=g.Ga("ytp-cards-button",this.player.getRootNode());g.SS(Q)&&YQo(this,Q)};
g.t.onVideoDataChange=function(p){var l=this.player.getVideoData();l.hP&&dbo(this,l.hP,p)};
g.t.unload=function(){this.player.S7("annotations_module");for(var p=g.Z(Object.keys(this.C)),l=p.next();!l.done;l=p.next())this.C[l.value].destroy();this.Y=null;this.B&&(this.B.destroy(),this.B=null,aI(this.player));this.T=!1;this.W&&(this.W.abort(),this.W=null);this.HL=!1;this.C={};this.L.hide();g.eH.prototype.unload.call(this);this.X.detach();this.S&&(this.player.removeEventListener("videodatachange",this.S),this.S=null)};
g.t.LC=function(p){p===this.player.getVideoData().videoId&&(this.loaded?zdt(this):this.load())};
g.t.u3=function(){var p;return((p=this.B)==null?void 0:p.isAvailable())||this.HL};
g.t.dS=function(){return!!this.B&&this.B.X};
g.t.ZG=function(p,l,Q){l=l===void 0?!1:l;this.u3();this.B&&(p?Q?Cm(this.B,Q,l):Cm(this.B,"YOUTUBE_DRAWER_AUTO_OPEN",l):O0(this.B))};
g.t.Is=function(p,l){this.player.publish(p?"cardsteasershow":"cardsteaserhide",l)};
g.t.Xf=function(){this.player.U().QQ.unsubscribe("vast_info_card_add",this.LC,this);g.WF(this.player.getRootNode(),g.gx.IV_DRAWER_OPEN);for(var p=this.yQ,l=g.A7,Q=0,H=p.length;Q<H;Q++)l.JX(p[Q]);this.yQ.length=0;g.eH.prototype.Xf.call(this)};
g.t.createElement=function(p){p=new g.x(p);g.A(this,p);return p.element};g.T_("annotations_module",RdU);g.T_("creatorendscreen",qDo);})(_yt_player);
