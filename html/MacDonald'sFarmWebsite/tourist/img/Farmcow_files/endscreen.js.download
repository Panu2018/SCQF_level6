(function(g){var window=this;'use strict';var PsY=function(p){p.publish("autonavvisibility")},xeJ=function(p,l){p.bO("onAutonavCoundownStarted",l)},Ueo=function(p){var l,Q,H;
return p==null?void 0:(l=p.playerOverlays)==null?void 0:(Q=l.playerOverlayRenderer)==null?void 0:(H=Q.autoplay)==null?void 0:H.playerOverlayAutoplayRenderer},HR=function(p,l,Q){g.tm(p.element,"ytp-suggestion-set",!!l.videoId);
var H=l.playlistId;Q=l.jd(Q?Q:"mqdefault.jpg");var q=null,W=null;l instanceof g.h1&&(l.lengthText?(q=l.lengthText||null,W=l.PA||null):l.lengthSeconds&&(q=g.hX(l.lengthSeconds),W=g.hX(l.lengthSeconds,!0)));var c=!!H;H=c&&g.BC(H).type==="RD";var E=l instanceof g.h1?l.isLivePlayback:null,R=l instanceof g.h1?l.isUpcoming:null,F=l.author,r=l.shortViewCount,d=l.publishedTimeText,M=[],T=[];F&&M.push(F);r&&(M.push(r),T.push(r));d&&T.push(d);Q={title:l.title,author:F,author_and_views:M.join(" \u2022 "),aria_label:l.ariaLabel||
g.dl("Watch $TITLE",{TITLE:l.title}),duration:q,timestamp:W,url:l.RN(),is_live:E,is_upcoming:R,is_list:c,is_mix:H,background:Q?"background-image: url("+Q+")":"",views_and_publish_time:T.join(" \u2022 "),autoplayAlternativeHeader:l.VD};l instanceof g.Yf&&(Q.playlist_length=l.playlistLength);p.update(Q)},qw=function(p){var l=p.U(),Q=l.j;
g.x.call(this,{J:"a",V:"ytp-autonav-suggestion-card",N:{href:"{{url}}",target:Q?l.Y:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},G:[{J:"div",pK:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],N:{style:"{{background}}"},G:[{J:"div",N:{"aria-label":"{{timestamp}}"},pK:["ytp-autonav-timestamp"],tP:"{{duration}}"},{J:"div",pK:["ytp-autonav-live-stamp"],tP:"Live"},{J:"div",
pK:["ytp-autonav-upcoming-stamp"],tP:"Upcoming"},{J:"div",V:"ytp-autonav-list-overlay",G:[{J:"div",V:"ytp-autonav-mix-text",tP:"Mix"},{J:"div",V:"ytp-autonav-mix-icon"}]}]},{J:"div",pK:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],tP:"{{title}}"},{J:"div",pK:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],tP:"{{author}}"},{J:"div",pK:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],tP:"{{views_and_publish_time}}"}]});this.K=p;this.suggestion=
null;this.B=Q;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},WR=function(p,l){l=l===void 0?!1:l;
g.x.call(this,{J:"div",V:"ytp-autonav-endscreen-countdown-overlay"});var Q=this;this.S=l;this.cancelCommand=this.C=void 0;this.X=0;this.container=new g.x({J:"div",V:"ytp-autonav-endscreen-countdown-container"});g.A(this,this.container);this.container.CK(this.element);l=p.U();var H=l.j;this.K=p;this.suggestion=null;this.onVideoDataChange("newdata",this.K.getVideoData());this.Z(p,"videodatachange",this.onVideoDataChange);this.B=new g.x({J:"div",V:"ytp-autonav-endscreen-upnext-container",N:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},G:[{J:"div",V:"ytp-autonav-endscreen-upnext-header"},{J:"div",V:"ytp-autonav-endscreen-upnext-alternative-header",tP:"{{autoplayAlternativeHeader}}"},{J:"a",V:"ytp-autonav-endscreen-link-container",N:{href:"{{url}}",target:H?l.Y:""},G:[{J:"div",V:"ytp-autonav-endscreen-upnext-thumbnail",N:{style:"{{background}}"},G:[{J:"div",N:{"aria-label":"{{timestamp}}"},pK:["ytp-autonav-timestamp"],
tP:"{{duration}}"},{J:"div",pK:["ytp-autonav-live-stamp"],tP:"Live"},{J:"div",pK:["ytp-autonav-upcoming-stamp"],tP:"Upcoming"}]},{J:"div",V:"ytp-autonav-endscreen-video-info",G:[{J:"div",V:"ytp-autonav-endscreen-premium-badge"},{J:"div",V:"ytp-autonav-endscreen-upnext-title",tP:"{{title}}"},{J:"div",V:"ytp-autonav-endscreen-upnext-author",tP:"{{author}}"},{J:"div",V:"ytp-autonav-view-and-date",tP:"{{views_and_publish_time}}"},{J:"div",V:"ytp-autonav-author-and-view",tP:"{{author_and_views}}"}]}]}]});
g.A(this,this.B);this.B.CK(this.container.element);H||this.Z(this.B.jj("ytp-autonav-endscreen-link-container"),"click",this.BV);this.K.createClientVe(this.container.element,this,115127);this.K.createClientVe(this.B.jj("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.x({J:"div",V:"ytp-autonav-overlay"});g.A(this,this.overlay);this.overlay.CK(this.container.element);this.L=new g.x({J:"div",V:"ytp-autonav-endscreen-button-container"});g.A(this,this.L);this.L.CK(this.container.element);
this.cancelButton=new g.x({J:"button",pK:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",l.D("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],N:{"aria-label":"Cancel autoplay"},tP:"Cancel"});g.A(this,this.cancelButton);this.cancelButton.CK(this.L.element);this.cancelButton.listen("click",this.N9,this);this.K.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.x({J:"a",pK:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
l.D("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],N:{href:"{{url}}",role:"button","aria-label":"Play next video"},tP:"Play Now"});g.A(this,this.playButton);this.playButton.CK(this.L.element);this.playButton.listen("click",this.BV,this);this.K.createServerVe(this.playButton.element,this.playButton,!0);(l=this.K.getVideoData())&&CsY(this,l);this.j=new g.x_(function(){OEJ(Q)},500);
g.A(this,this.j);this.PV();this.Z(p,"autonavvisibility",this.PV);this.K.D("web_autonav_color_transition")&&(this.Z(p,"autonavchange",this.GG),this.Z(p,"onAutonavCoundownStarted",this.XD3))},cR=function(p){var l=p.K.hk(!0,p.K.isFullscreen());
g.tm(p.container.element,"ytp-autonav-endscreen-small-mode",p.oK(l));g.tm(p.container.element,"ytp-autonav-endscreen-is-premium",!!p.suggestion&&!!p.suggestion.kD3);g.tm(p.K.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!p.K.QV());g.tm(p.K.getRootNode(),"countdown-running",p.Zr());g.tm(p.container.element,"ytp-player-content",p.K.QV());g.cJ(p.overlay.element,{width:l.width+"px"});if(!p.Zr()){p.K.QV()?vEK(p,Math.round(met(p)/1E3)):vEK(p);l=!!p.suggestion&&!!p.suggestion.VD;var Q=p.K.QV()||
!l;g.tm(p.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!Q&&l);g.tm(p.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",Q&&!l);p.L.BD(p.K.QV());g.tm(p.element,"ytp-enable-w2w-color-transitions",G8K(p))}},OEJ=function(p){var l=met(p),Q=Math,H=Q.min;
var q=p.X?Date.now()-p.X:0;Q=H.call(Q,q,l);vEK(p,Math.ceil((l-Q)/1E3));l-Q<=500&&p.Zr()?p.select(!0):p.Zr()&&p.j.start()},met=function(p){if(p.K.isFullscreen()){var l;
p=(l=p.K.getVideoData())==null?void 0:l.pm;return p===-1||p===void 0?8E3:p}return p.K.r5()>=0?p.K.r5():g.E7(p.K.U().experiments,"autoplay_time")||1E4},CsY=function(p,l){l=l.getWatchNextResponse();
var Q,H;l=(Q=Ueo(l))==null?void 0:(H=Q.nextButton)==null?void 0:H.buttonRenderer;p.C=l==null?void 0:l.navigationEndpoint;Q=l==null?void 0:l.trackingParams;p.playButton&&Q&&p.K.setTrackingParams(p.playButton.element,Q)},G8K=function(p){var l;
return!((l=p.K.getVideoData())==null||!l.watchToWatchTransitionRenderer)},vEK=function(p,l){l=l===void 0?-1:l;
p=p.B.jj("ytp-autonav-endscreen-upnext-header");g.c2(p);if(l>=0){l=String(l);var Q="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],H="Up next in $SECONDS".indexOf(Q);if(H>=0){p.appendChild(g.qg("Up next in $SECONDS".slice(0,H)));var q=g.H2("span");g.pS(q,"ytp-autonav-endscreen-upnext-header-countdown-number");g.Ft(q,l);p.appendChild(q);p.appendChild(g.qg("Up next in $SECONDS".slice(H+Q.length)));return}}g.Ft(p,"Up next")},tx=function(p,l){g.x.call(this,{J:"div",
pK:["html5-endscreen","ytp-player-content",l||"base-endscreen"]});this.created=!1;this.player=p},EV=function(p){g.x.call(this,{J:"div",
pK:["ytp-upnext","ytp-player-content"],N:{"aria-label":"{{aria_label}}"},G:[{J:"div",V:"ytp-cued-thumbnail-overlay-image",N:{style:"{{background}}"}},{J:"span",V:"ytp-upnext-top",G:[{J:"span",V:"ytp-upnext-header",tP:"Up Next"},{J:"span",V:"ytp-upnext-title",tP:"{{title}}"},{J:"span",V:"ytp-upnext-author",tP:"{{author}}"}]},{J:"a",V:"ytp-upnext-autoplay-icon",N:{role:"button",href:"{{url}}","aria-label":"Play next video"},G:[{J:"svg",N:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
G:[{J:"circle",V:"ytp-svg-autoplay-circle",N:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{J:"circle",V:"ytp-svg-autoplay-ring",N:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{J:"path",V:"ytp-svg-fill",N:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{J:"span",V:"ytp-upnext-bottom",G:[{J:"span",V:"ytp-upnext-cancel"},{J:"span",V:"ytp-upnext-paused",
tP:"Autoplay is paused"}]}]});this.api=p;this.cancelButton=null;this.C=this.jj("ytp-svg-autoplay-ring");this.X=this.notification=this.B=this.suggestion=null;this.j=new g.x_(this.VJ,5E3,this);this.L=0;var l=this.jj("ytp-upnext-cancel");this.cancelButton=new g.x({J:"button",pK:["ytp-upnext-cancel-button","ytp-button"],N:{tabindex:"0","aria-label":"Cancel autoplay"},tP:"Cancel"});g.A(this,this.cancelButton);this.cancelButton.listen("click",this.Yp,this);this.cancelButton.CK(l);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.A(this,this.j);this.api.createClientVe(this.element,this,18788);l=this.jj("ytp-upnext-autoplay-icon");this.Z(l,"click",this.cX);this.api.createClientVe(l,this,115130);this.HV();this.Z(p,"autonavvisibility",this.HV);this.Z(p,"mdxnowautoplaying",this.NbW);this.Z(p,"mdxautoplaycanceled",this.gZd);g.tm(this.element,"ytp-upnext-mobile",this.api.U().L)},inb=function(p,l){if(l)return l;
if(p.api.isFullscreen()){var Q;p=(Q=p.api.getVideoData())==null?void 0:Q.pm;return p===-1||p===void 0?8E3:p}return p.api.r5()>=0?p.api.r5():g.E7(p.api.U().experiments,"autoplay_time")||1E4},pIC=function(p,l){l=inb(p,l);
var Q=Math,H=Q.min;var q=(0,g.DX)()-p.L;Q=H.call(Q,q,l);l=l===0?1:Math.min(Q/l,1);p.C.setAttribute("stroke-dashoffset",""+-211*(l+1));l>=1&&p.Zr()&&p.api.getPresentingPlayerType()!==3?p.select(!0):p.Zr()&&p.B.start()},RP=function(p){tx.call(this,p,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.x({J:"div",V:"ytp-suggestion-panel",G:[{J:"div",pK:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],tP:"More videos"}]});this.T=new g.x({J:"div",V:"ytp-suggestions-container"});this.videos=[];this.X=null;this.C=this.S=!1;this.L=new WR(this.player);g.A(this,this.L);this.L.CK(this.element);p.getVideoData().YU?this.B=this.L:(this.B=new EV(p),g.Vs(this.player,this.B.element,4),g.A(this,this.B));this.overlay=new g.x({J:"div",
V:"ytp-autonav-overlay-cancelled-state"});g.A(this,this.overlay);this.overlay.CK(this.element);this.j=new g.kg(this);g.A(this,this.j);g.A(this,this.table);this.table.CK(this.element);this.table.show();g.A(this,this.T);this.T.CK(this.table.element);this.hide()},Fv=function(p){var l=p.QV();
l!==p.C&&(p.C=l,PsY(p.player),p.C?(p.L!==p.B&&p.L.hide(),p.table.hide()):(p.L!==p.B&&p.L.show(),p.table.show()))},rI=function(p,l){g.x.call(this,{J:"button",
pK:["ytp-watch-on-youtube-button","ytp-button"],tP:"{{content}}"});this.K=p;this.buttonType=this.buttonType=l;this.D6();this.buttonType===2&&g.HF(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.D6);this.BD(!0)},dI=function(p,l){tx.call(this,p,"embeds-lite-endscreen");
this.K=p;this.B=l;this.K.createClientVe(this.element,this,156943);this.watchButton=new rI(p,2);g.A(this,this.watchButton);this.watchButton.CK(this.element);this.hide()},jB=function(p){var l=p.U(),Q=g.wa||g.aC?{style:"will-change: opacity"}:void 0,H=l.j,q=["ytp-modern-videowall-still"];
l.L&&q.push("ytp-videowall-show-text");g.x.call(this,{J:"a",pK:q,N:{href:"{{url}}",target:H?l.Y:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},G:[{J:"div",V:"ytp-modern-videowall-still-image",N:{style:"{{background}}"},G:[{J:"span",V:"ytp-modern-videowall-still-info-duration",tP:"{{duration}}"}]},{J:"span",V:"ytp-modern-videowall-still-info",N:{"aria-hidden":"true"},G:[{J:"span",V:"ytp-modern-videowall-still-info-bg",G:[{J:"span",
V:"ytp-modern-videowall-still-info-content",N:Q,G:[{J:"span",V:"ytp-modern-videowall-still-info-title",tP:"{{title}}"},{J:"span",V:"ytp-modern-videowall-still-info-author",tP:"{{author_and_views}}"},{J:"span",V:"ytp-modern-videowall-still-info-live",tP:"Live"}]}]}]},{J:"span",pK:["ytp-modern-videowall-still-listlabel-regular","ytp-modern-videowall-still-listlabel"],N:{"aria-hidden":"true"},G:[{J:"span",V:"ytp-modern-videowall-still-listlabel-icon"},"Playlist",{J:"span",V:"ytp-modern-videowall-still-listlabel-length",
G:[" (",{J:"span",tP:"{{playlist_length}}"},")"]}]},{J:"span",pK:["ytp-modern-videowall-still-listlabel-mix","ytp-modern-videowall-still-listlabel"],N:{"aria-hidden":"true"},G:[{J:"span",V:"ytp-modern-videowall-still-listlabel-mix-icon"},"Mix",{J:"span",V:"ytp-modern-videowall-still-listlabel-length",tP:" (50+)"}]}]});this.suggestion=null;this.L=H;this.api=p;this.B=new g.kg(this);g.A(this,this.B);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.B.Z(p,"videodatachange",
this.onVideoDataChange);p.createServerVe(this.element,this);this.onVideoDataChange()},l6Y=function(p){tx.call(this,p,"videowall-endscreen");
var l=this;this.K=p;this.stills=[];this.X=this.videoData=null;this.j=this.S=!1;this.T=null;g.HF(this.element,"modern-videowall-endscreen");this.L=new g.kg(this);g.A(this,this.L);this.C=new g.x_(function(){g.HF(l.element,"ytp-show-tiles")},0);
g.A(this,this.C);this.table=new g.EA({J:"div",V:"ytp-modern-endscreen-content"});g.A(this,this.table);this.table.CK(this.element);p.getVideoData().YU?this.B=new WR(p,!0):this.B=new EV(p);g.A(this,this.B);g.Vs(this.player,this.B.element,4);p.createClientVe(this.element,this,158789);this.hide()},Mw=function(p){return g.kq(p.player)&&p.zK()&&!p.X},TB=function(p){var l=p.QV();
l!==p.S&&(p.S=l,PsY(p.player))},Q2S=function(p){tx.call(this,p,"subscribecard-endscreen");
this.B=new g.x({J:"div",V:"ytp-subscribe-card",G:[{J:"img",V:"ytp-author-image",N:{src:"{{profilePicture}}"}},{J:"div",V:"ytp-subscribe-card-right",G:[{J:"div",V:"ytp-author-name",tP:"{{author}}"},{J:"div",V:"html5-subscribe-button-container"}]}]});g.A(this,this.B);this.B.CK(this.element);var l=p.getVideoData();this.subscribeButton=new g.m5("Subscribe",null,"Unsubscribe",null,!0,!1,l.Fe,l.subscribed,"trailer-endscreen",null,p,!1);g.A(this,this.subscribeButton);this.subscribeButton.CK(this.B.jj("html5-subscribe-button-container"));
this.Z(p,"videodatachange",this.VQ);this.VQ();this.hide()},eB=function(p){var l=p.U(),Q=g.wa||g.aC?{style:"will-change: opacity"}:void 0,H=l.j,q=["ytp-videowall-still"];
l.L&&q.push("ytp-videowall-show-text");g.x.call(this,{J:"a",pK:q,N:{href:"{{url}}",target:H?l.Y:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},G:[{J:"div",V:"ytp-videowall-still-image",N:{style:"{{background}}"}},{J:"span",V:"ytp-videowall-still-info",N:{"aria-hidden":"true"},G:[{J:"span",V:"ytp-videowall-still-info-bg",G:[{J:"span",V:"ytp-videowall-still-info-content",N:Q,G:[{J:"span",V:"ytp-videowall-still-info-title",tP:"{{title}}"},
{J:"span",V:"ytp-videowall-still-info-author",tP:"{{author_and_views}}"},{J:"span",V:"ytp-videowall-still-info-live",tP:"Live"},{J:"span",V:"ytp-videowall-still-info-duration",tP:"{{duration}}"}]}]}]},{J:"span",pK:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],N:{"aria-hidden":"true"},G:[{J:"span",V:"ytp-videowall-still-listlabel-icon"},"Playlist",{J:"span",V:"ytp-videowall-still-listlabel-length",G:[" (",{J:"span",tP:"{{playlist_length}}"},")"]}]},{J:"span",pK:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],N:{"aria-hidden":"true"},G:[{J:"span",V:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{J:"span",V:"ytp-videowall-still-listlabel-length",tP:" (50+)"}]}]});this.suggestion=null;this.L=H;this.api=p;this.B=new g.kg(this);g.A(this,this.B);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.B.Z(p,"videodatachange",this.onVideoDataChange);p.createServerVe(this.element,this);this.onVideoDataChange()},zB=function(p){tx.call(this,p,"videowall-endscreen");
var l=this;this.K=p;this.X=0;this.stills=[];this.j=this.videoData=null;this.C=this.T=!1;this.Y=null;this.L=new g.kg(this);g.A(this,this.L);this.S=new g.x_(function(){g.HF(l.element,"ytp-show-tiles")},0);
g.A(this,this.S);var Q=new g.x({J:"button",pK:["ytp-button","ytp-endscreen-previous"],N:{"aria-label":"Previous"},G:[g.zw()]});g.A(this,Q);Q.CK(this.element);Q.listen("click",this.d2,this);this.table=new g.EA({J:"div",V:"ytp-endscreen-content"});g.A(this,this.table);this.table.CK(this.element);Q=new g.x({J:"button",pK:["ytp-button","ytp-endscreen-next"],N:{"aria-label":"Next"},G:[g.ZJ()]});g.A(this,Q);Q.CK(this.element);Q.listen("click",this.yw,this);p.getVideoData().YU?this.B=new WR(p,!0):this.B=
new EV(p);g.A(this,this.B);g.Vs(this.player,this.B.element,4);p.createClientVe(this.element,this,158789);this.hide()},Zn=function(p){return g.kq(p.player)&&p.zK()&&!p.j},BR=function(p){var l=p.QV();
l!==p.T&&(p.T=l,PsY(p.player))},Y8=function(p){tx.call(this,p,"watch-again-on-youtube-endscreen");
this.watchButton=new rI(p,1);g.A(this,this.watchButton);this.watchButton.CK(this.element);g.iWo(p)&&(this.B=new g.Cd(p),g.A(this,this.B),this.L=new g.x({J:"div",pK:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],N:{tabIndex:"-1"},G:[this.B]}),g.A(this,this.L),this.B.CK(this.L.element),this.L.CK(this.element));p.createClientVe(this.element,this,156914);this.hide()},WVJ=function(p){g.eH.call(this,p);
var l=this;this.endScreen=null;this.L=this.B=this.X=this.j=!1;this.listeners=new g.kg(this);g.A(this,this.listeners);var Q=p.U(),H=p.getVideoData();H=H&&H.limitedPlaybackDurationInSeconds!==0;g.t0(g.KI(Q))&&H&&!g.X9(p)?(this.L=!0,this.endScreen=new dI(p,g.dN(p))):p.isEmbedsShortsMode()?this.endScreen=new Y8(p):$Yo(p)?(this.j=!0,HnJ(this),this.B?this.endScreen=new RP(p):Q.D("delhi_modern_endscreen")?this.endScreen=new l6Y(p):this.endScreen=new zB(p)):Q.eS?this.endScreen=new Q2S(p):this.endScreen=new tx(p);
g.A(this,this.endScreen);g.Vs(p,this.endScreen.element,4);qJC(this);this.listeners.Z(p,"videodatachange",this.onVideoDataChange,this);this.listeners.Z(p,g.Q7("endscreen"),function(q){l.onCueRangeEnter(q)});
this.listeners.Z(p,g.$z("endscreen"),function(q){l.onCueRangeExit(q)})},HnJ=function(p){var l=p.player.getVideoData();
if(!l||p.B===l.WB&&p.X===l.YU)return!1;p.B=l.WB;p.X=l.YU;return!0},$Yo=function(p){p=p.U();
return p.IZ&&!p.eS&&!p.disableOrganicUi},qJC=function(p){p.player.S7("endscreen");
var l=p.player.getVideoData();l=new g.pP(Math.max((l.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var Q=new g.pP(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});p.player.cn([l,Q])};
g.aM.prototype.r5=g.ci(14,function(){return this.app.r5()});
g.M0.prototype.r5=g.ci(13,function(){return this.getVideoData().Aa});
g.ZA.prototype.HI=g.ci(12,function(p){this.Sh().HI(p)});
g.jV.prototype.HI=g.ci(11,function(p){this.B!==p&&(this.B=p,this.VQ())});
g.XQ.prototype.HI=g.ci(10,function(p){this.overflowButton&&this.overflowButton.HI(p)});
g.ZA.prototype.yD=g.ci(9,function(p){this.Sh().yD(p)});
g.ZD.prototype.yD=g.ci(8,function(p){this.L!==p&&(this.L=p,this.VQ())});
g.XQ.prototype.yD=g.ci(7,function(p){this.shareButton&&this.shareButton.yD(p)});
g.ZA.prototype.hD=g.ci(6,function(p){this.Sh().hD(p)});
g.bA.prototype.hD=g.ci(5,function(p){this.Z4!==p&&(this.Z4=p,this.Sa())});
g.ZA.prototype.TQ=g.ci(4,function(p){this.Sh().TQ(p)});
g.XQ.prototype.TQ=g.ci(3,function(p){this.Ii!==p&&(this.Ii=p,this.RL())});g.z(qw,g.x);qw.prototype.select=function(){this.K.pL(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.aq||void 0)&&this.K.logClick(this.element)};
qw.prototype.onClick=function(p){g.Hc(p,this.K,this.B,this.suggestion.sessionData||void 0)&&this.select()};
qw.prototype.onKeyPress=function(p){switch(p.keyCode){case 13:case 32:p.defaultPrevented||(this.select(),p.preventDefault())}};g.z(WR,g.x);g.t=WR.prototype;g.t.h_=function(p){this.suggestion!==p&&(this.suggestion=p,HR(this.B,p),this.playButton.updateValue("url",this.suggestion.RN()),cR(this))};
g.t.Zr=function(){return this.X>0};
g.t.Rm=function(){this.Zr()||(this.X=Date.now(),OEJ(this),xeJ(this.K,met(this)),g.tm(this.K.getRootNode(),"countdown-running",this.Zr()))};
g.t.Bj=function(){this.fA();OEJ(this);var p=this.B.jj("ytp-autonav-endscreen-upnext-header");p&&g.Ft(p,"Up next")};
g.t.fA=function(){this.Zr()&&(this.j.stop(),this.X=0)};
g.t.select=function(p){this.K.nextVideo(!1,p===void 0?!1:p);this.fA()};
g.t.BV=function(p){g.Hc(p,this.K)&&(p.currentTarget===this.playButton.element?this.K.logClick(this.playButton.element):p.currentTarget===this.B.jj("ytp-autonav-endscreen-link-container")&&(p=this.B.jj("ytp-autonav-endscreen-link-container"),this.K.logVisibility(p,!0),this.K.logClick(p)),this.C?(this.K.bO("innertubeCommand",this.C),this.fA()):this.select())};
g.t.N9=function(){this.K.logClick(this.cancelButton.element);g.DA(this.K,!0);this.cancelCommand&&this.K.bO("innertubeCommand",this.cancelCommand)};
g.t.onVideoDataChange=function(p,l){CsY(this,l);p=l.getWatchNextResponse();var Q,H;p=(Q=Ueo(p))==null?void 0:(H=Q.cancelButton)==null?void 0:H.buttonRenderer;this.cancelCommand=p==null?void 0:p.command};
g.t.XD3=function(p){if(G8K(this)){var l=this.K.getVideoData().watchToWatchTransitionRenderer,Q=l==null?void 0:l.fromColorPaletteDark;l=l==null?void 0:l.toColorPaletteDark;if(Q&&l){var H=this.element;H.style.setProperty("--w2w-start-background-color",g.o6(Q.surgeColor));H.style.setProperty("--w2w-start-primary-text-color",g.o6(Q.primaryTitleColor));H.style.setProperty("--w2w-start-secondary-text-color",g.o6(Q.secondaryTitleColor));H.style.setProperty("--w2w-end-background-color",g.o6(l.surgeColor));
H.style.setProperty("--w2w-end-primary-text-color",g.o6(l.primaryTitleColor));H.style.setProperty("--w2w-end-secondary-text-color",g.o6(l.secondaryTitleColor));H.style.setProperty("--w2w-animation-duration",p+"ms")}g.tm(this.element,"ytp-w2w-animate",!0)}};
g.t.GG=function(p){this.K.D("web_autonav_color_transition")&&p!==2&&g.tm(this.element,"ytp-w2w-animate",!1)};
g.t.PV=function(){var p=this.K.QV();this.S&&this.lk!==p&&this.BD(p);cR(this);this.K.logVisibility(this.container.element,p);this.K.logVisibility(this.cancelButton.element,p);this.K.logVisibility(this.B.jj("ytp-autonav-endscreen-link-container"),p);this.K.logVisibility(this.playButton.element,p)};
g.t.oK=function(p){return p.width<400||p.height<459};g.z(tx,g.x);g.t=tx.prototype;g.t.create=function(){this.created=!0};
g.t.destroy=function(){this.created=!1};
g.t.zK=function(){return!1};
g.t.QV=function(){return!1};
g.t.cJ=function(){return!1};g.z(EV,g.x);g.t=EV.prototype;g.t.VJ=function(){this.notification&&(this.j.stop(),this.Cg(this.X),this.X=null,this.notification.close(),this.notification=null)};
g.t.h_=function(p){this.suggestion=p;HR(this,p,"hqdefault.jpg")};
g.t.HV=function(){this.BD(this.api.QV());this.api.logVisibility(this.element,this.api.QV());this.api.logVisibility(this.jj("ytp-upnext-autoplay-icon"),this.api.QV());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.QV())};
g.t.B83=function(){window.focus();this.VJ()};
g.t.Rm=function(p){var l=this;this.Zr()||(g.WT("a11y-announce","Up Next "+this.suggestion.title),this.L=(0,g.DX)(),this.B=new g.x_(function(){pIC(l,p)},25),pIC(this,p),xeJ(this.api,inb(this,p)));
g.WF(this.element,"ytp-upnext-autoplay-paused")};
g.t.hide=function(){g.x.prototype.hide.call(this)};
g.t.Zr=function(){return!!this.B};
g.t.Bj=function(){this.fA();this.L=(0,g.DX)();pIC(this);g.HF(this.element,"ytp-upnext-autoplay-paused")};
g.t.fA=function(){this.Zr()&&(this.B.dispose(),this.B=null)};
g.t.select=function(p){p=p===void 0?!1:p;if(this.api.U().D("autonav_notifications")&&p&&window.Notification&&typeof document.hasFocus==="function"){var l=Notification.permission;l==="default"?Notification.requestPermission():l!=="granted"||document.hasFocus()||(this.VJ(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.jd()}),this.X=this.Z(this.notification,"click",this.B83),this.j.start())}this.fA();this.api.nextVideo(!1,p)};
g.t.cX=function(p){!g.Rb(this.cancelButton.element,p.target)&&g.Hc(p,this.api)&&(this.api.QV()&&this.api.logClick(this.jj("ytp-upnext-autoplay-icon")),this.select())};
g.t.Yp=function(){this.api.QV()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.DA(this.api,!0)};
g.t.NbW=function(p){this.api.getPresentingPlayerType();this.show();this.Rm(p)};
g.t.gZd=function(){this.api.getPresentingPlayerType();this.fA();this.hide()};
g.t.Xf=function(){this.fA();this.VJ();g.x.prototype.Xf.call(this)};g.z(RP,tx);g.t=RP.prototype;g.t.create=function(){tx.prototype.create.call(this);this.j.Z(this.player,"appresize",this.Tt);this.j.Z(this.player,"onVideoAreaChange",this.Tt);this.j.Z(this.player,"videodatachange",this.onVideoDataChange);this.j.Z(this.player,"autonavchange",this.yE);this.j.Z(this.player,"onAutonavCancelled",this.lI);this.onVideoDataChange()};
g.t.show=function(){tx.prototype.show.call(this);(this.S||this.X&&this.X!==this.videoData.clientPlaybackNonce)&&g.DA(this.player,!1);g.kq(this.player)&&this.zK()&&!this.X?(Fv(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.B.select(!0):this.B.Rm():this.videoData.autonavState===3&&this.B.Bj()):(g.DA(this.player,!0),Fv(this));this.Tt()};
g.t.hide=function(){tx.prototype.hide.call(this);this.B.Bj();Fv(this)};
g.t.Tt=function(){var p=this.player.hk(!0,this.player.isFullscreen());Fv(this);cR(this.L);g.tm(this.element,"ytp-autonav-cancelled-small-mode",this.oK(p));g.tm(this.element,"ytp-autonav-cancelled-tiny-mode",this.JV(p));g.tm(this.element,"ytp-autonav-cancelled-mini-mode",p.width<=400||p.height<=360);this.overlay&&g.cJ(this.overlay.element,{width:p.width+"px"});if(!this.C)for(p=0;p<this.videos.length;p++)g.tm(this.videos[p].element,"ytp-suggestion-card-with-margin",p%2===1)};
g.t.onVideoDataChange=function(){var p=this.player.getVideoData();if(this.videoData!==p&&p){this.videoData=p;if((p=this.videoData.suggestions)&&p.length||this.player.D("web_player_autonav_empty_suggestions_fix")){var l=g.mc(this.videoData);l&&(this.B.h_(l),this.B!==this.L&&this.L.h_(l))}if(p&&p.length)for(l=0;l<c$G.length;++l){var Q=c$G[l];if(p&&p[Q]){this.videos[l]=new qw(this.player);var H=this.videos[l];Q=p[Q];H.suggestion!==Q&&(H.suggestion=Q,HR(H,Q));g.A(this,this.videos[l]);this.videos[l].CK(this.T.element)}}this.Tt()}};
g.t.yE=function(p){p===1?(this.S=!1,this.X=this.videoData.clientPlaybackNonce,this.B.fA(),this.lk&&this.Tt()):(this.S=!0,this.QV()&&(p===2?this.B.Rm():p===3&&this.B.Bj()))};
g.t.lI=function(p){p?this.yE(1):(this.X=null,this.S=!1)};
g.t.zK=function(){return this.videoData.autonavState!==1};
g.t.oK=function(p){return(p.width<910||p.height<459)&&!this.JV(p)&&!(p.width<=400||p.height<=360)};
g.t.JV=function(p){return p.width<800&&!(p.width<=400||p.height<=360)};
g.t.QV=function(){return this.lk&&g.kq(this.player)&&this.zK()&&!this.X};
var c$G=[1,3,2,4];g.z(rI,g.x);g.t=rI.prototype;g.t.D6=function(){switch(this.buttonType){case 1:var p="Watch again on YouTube";var l=156915;break;case 2:p="Continue watching on YouTube";l=156942;break;default:p="Continue watching on YouTube",l=156942}this.update({content:p});this.K.hasVe(this.element)&&this.K.destroyVe(this.element);this.K.createClientVe(this.element,this,l)};
g.t.onClick=function(p){this.K.D("web_player_log_click_before_generating_ve_conversion_params")&&this.K.logClick(this.element);g.qX(this.getVideoUrl(),this.K,p);this.K.D("web_player_log_click_before_generating_ve_conversion_params")||this.K.logClick(this.element)};
g.t.getVideoUrl=function(){var p=!0;switch(this.buttonType){case 1:p=!0;break;case 2:p=!1}p=this.K.getVideoUrl(p,!1,!1,!0);var l=this.K.U();if(g.Dh(l)){var Q={};g.Dh(l)&&g.tf(this.K,"addEmbedsConversionTrackingParams",[Q]);p=g.vU(p,Q)}return p};
g.t.logVisibility=function(){this.K.logVisibility(this.element,this.lk&&this.W)};
g.t.show=function(){g.x.prototype.show.call(this);this.logVisibility()};
g.t.hide=function(){g.x.prototype.hide.call(this);this.logVisibility()};
g.t.zF=function(p){g.x.prototype.zF.call(this,p);this.logVisibility()};g.z(dI,tx);dI.prototype.show=function(){this.player.getPlayerState()!==3&&(tx.prototype.show.call(this),this.B.TQ(!0),this.B.yD(!0),this.K.U().pO||this.B.HI(!0),this.K.logVisibility(this.element,!0),this.watchButton.zF(!0))};
dI.prototype.hide=function(){tx.prototype.hide.call(this);this.B.TQ(!1);this.B.yD(!1);this.B.HI(!1);this.K.logVisibility(this.element,!1);this.watchButton.zF(!1)};g.z(jB,g.x);jB.prototype.select=function(){this.api.pL(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.aq||void 0)&&this.api.logClick(this.element)};
jB.prototype.onClick=function(p){if(g.Dh(this.api.U())&&this.api.D("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var l=this.suggestion.RN(),Q={};g.wN(this.api,Q);l=g.vU(l,Q);g.qX(l,this.api,p)}else g.Hc(p,this.api,this.L,this.suggestion.sessionData||void 0)&&this.select()};
jB.prototype.onKeyPress=function(p){switch(p.keyCode){case 13:case 32:p.defaultPrevented||(this.select(),p.preventDefault())}};
jB.prototype.onVideoDataChange=function(){var p=this.api.getVideoData(),l=this.api.U();this.L=p.ZJ?!1:l.j};g.z(l6Y,tx);g.t=l6Y.prototype;g.t.create=function(){tx.prototype.create.call(this);var p=this.player.getVideoData();p&&(this.videoData=p);this.HO();this.L.Z(this.player,"appresize",this.HO);this.L.Z(this.player,"onVideoAreaChange",this.HO);this.L.Z(this.player,"videodatachange",this.onVideoDataChange);this.L.Z(this.player,"autonavchange",this.lj);this.L.Z(this.player,"onAutonavCancelled",this.PS);p=this.videoData.autonavState;p!==this.T&&this.lj(p);this.L.Z(this.element,"transitionend",this.BS)};
g.t.destroy=function(){g.XA(this.L);g.Eb(this.stills);this.stills=[];tx.prototype.destroy.call(this);g.WF(this.element,"ytp-show-tiles");this.C.stop();this.T=this.videoData.autonavState};
g.t.zK=function(){return this.videoData.autonavState!==1};
g.t.show=function(){var p=this.lk;tx.prototype.show.call(this);g.WF(this.element,"ytp-show-tiles");this.player.U().L?g.CC(this.C):this.C.start();(this.j||this.X&&this.X!==this.videoData.clientPlaybackNonce)&&g.DA(this.player,!1);Mw(this)?(TB(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.B.select(!0):this.B.Rm():this.videoData.autonavState===3&&this.B.Bj()):(g.DA(this.player,!0),TB(this));p!==this.lk&&this.player.logVisibility(this.element,!0)};
g.t.hide=function(){var p=this.lk;tx.prototype.hide.call(this);this.B.Bj();TB(this);p!==this.lk&&this.player.logVisibility(this.element,!1)};
g.t.BS=function(p){p.target===this.element&&this.HO()};
g.t.HO=function(){var p,l,Q,H;var q=((p=this.videoData)==null?0:(l=p.suggestions)==null?0:l.length)?(Q=this.videoData)==null?void 0:Q.suggestions:[(H=this.videoData)==null?void 0:g.mc(H)];if(q.length){l=this.K.hk(!0,this.K.isFullscreen());p=Math.floor((l.width-64+16)/(g.Mb(l.width*.27,250,450)+16));l=Math.min(3,Math.floor((l.height-64)/((l.width-64-(p-1)*16)/p*.5625+70)));g.cF(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.HF(this.element,"ytp-modern-endscreen-limit-rows-"+l);g.tm(this.element,"ytp-modern-endscreen-single-item",p===1);g.tm(this.element,"ytp-modern-endscreen-row-0",l===0);p=this.table.element;p.ariaLive="polite";this.B.h_(g.mc(this.videoData));this.B instanceof WR&&cR(this.B);g.tm(this.element,"ytp-endscreen-takeover",Mw(this));TB(this);l=0;p.ariaBusy="true";Q=q.length;for(H=0;H<Q;H++){var W=H%Q,c=this.stills[H];c||(c=new jB(this.player),this.stills[H]=c,p.appendChild(c.element));W=q[W];if(c.suggestion!==
W){c.suggestion=W;var E=c.api.U();HR(c,W,"hqdefault.jpg");if(g.Dh(E)&&!c.api.D("web_player_log_click_before_generating_ve_conversion_params")){E=W.RN();var R={};g.tf(c.api,"addEmbedsConversionTrackingParams",[R]);E=g.vU(E,R);c.updateValue("url",E)}(W=(W=W.sessionData)&&W.itct)&&c.api.setTrackingParams(c.element,W)}l++}this.stills.length=l}};
g.t.onVideoDataChange=function(){var p=this.player.getVideoData(1);this.videoData!==p&&(p!=null&&g.mc(p)?(this.videoData=p,this.HO()):this.player.BL("missg",{vid:(p==null?void 0:p.videoId)||"",cpn:(p==null?void 0:p.clientPlaybackNonce)||""}))};
g.t.cJ=function(){return this.B.Zr()};
g.t.lj=function(p){p===1?(this.j=!1,this.X=this.videoData.clientPlaybackNonce,this.B.fA(),this.lk&&this.HO()):(this.j=!0,this.lk&&Mw(this)&&(p===2?this.B.Rm():p===3&&this.B.Bj()))};
g.t.PS=function(p){if(p){for(p=0;p<this.stills.length;p++)this.K.logVisibility(this.stills[p].element,!0);this.lj(1)}else this.X=null,this.j=!1;this.HO()};
g.t.QV=function(){return this.lk&&Mw(this)};g.z(Q2S,tx);Q2S.prototype.VQ=function(){var p=this.player.getVideoData();this.B.update({profilePicture:p.profilePicture,author:p.author});this.subscribeButton.channelId=p.Fe;var l=this.subscribeButton;p.subscribed?l.B():l.L()};g.z(eB,g.x);eB.prototype.select=function(){this.api.pL(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.aq||void 0)&&this.api.logClick(this.element)};
eB.prototype.onClick=function(p){if(g.Dh(this.api.U())&&this.api.D("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var l=this.suggestion.RN(),Q={};g.wN(this.api,Q);l=g.vU(l,Q);g.qX(l,this.api,p)}else g.Hc(p,this.api,this.L,this.suggestion.sessionData||void 0)&&this.select()};
eB.prototype.onKeyPress=function(p){switch(p.keyCode){case 13:case 32:p.defaultPrevented||(this.select(),p.preventDefault())}};
eB.prototype.onVideoDataChange=function(){var p=this.api.getVideoData(),l=this.api.U();this.L=p.ZJ?!1:l.j};g.z(zB,tx);g.t=zB.prototype;g.t.create=function(){tx.prototype.create.call(this);var p=this.player.getVideoData();p&&(this.videoData=p);this.w_();this.L.Z(this.player,"appresize",this.w_);this.L.Z(this.player,"onVideoAreaChange",this.w_);this.L.Z(this.player,"videodatachange",this.onVideoDataChange);this.L.Z(this.player,"autonavchange",this.Pz);this.L.Z(this.player,"onAutonavCancelled",this.HS);p=this.videoData.autonavState;p!==this.Y&&this.Pz(p);this.L.Z(this.element,"transitionend",this.LB)};
g.t.destroy=function(){g.XA(this.L);g.Eb(this.stills);this.stills=[];tx.prototype.destroy.call(this);g.WF(this.element,"ytp-show-tiles");this.S.stop();this.Y=this.videoData.autonavState};
g.t.zK=function(){return this.videoData.autonavState!==1};
g.t.show=function(){var p=this.lk;tx.prototype.show.call(this);g.WF(this.element,"ytp-show-tiles");this.player.U().L?g.CC(this.S):this.S.start();(this.C||this.j&&this.j!==this.videoData.clientPlaybackNonce)&&g.DA(this.player,!1);Zn(this)?(BR(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.B.select(!0):this.B.Rm():this.videoData.autonavState===3&&this.B.Bj()):(g.DA(this.player,!0),BR(this));p!==this.lk&&this.player.logVisibility(this.element,!0)};
g.t.hide=function(){var p=this.lk;tx.prototype.hide.call(this);this.B.Bj();BR(this);p!==this.lk&&this.player.logVisibility(this.element,!1)};
g.t.LB=function(p){p.target===this.element&&this.w_()};
g.t.w_=function(){var p,l,Q,H;var q=((p=this.videoData)==null?0:(l=p.suggestions)==null?0:l.length)?(Q=this.videoData)==null?void 0:Q.suggestions:[(H=this.videoData)==null?void 0:g.mc(H)];if(q.length){g.HF(this.element,"ytp-endscreen-paginate");var W=this.K.hk(!0,this.K.isFullscreen());if(p=g.dN(this.K))p=p.Mp()?48:32,W.width-=p*2;var c=W.width/W.height;H=96/54;l=p=2;var E=Math.max(W.width/96,2),R=Math.max(W.height/54,2);Q=q.length;var F=Q*4;for(F-=4;F>0&&(p<E||l<R);){var r=p/2,d=l/2,M=p<=E-2&&F>=
d*4,T=l<=R-2&&F>=r*4;if((r+1)/d*H/c>c/(r/(d+1)*H)&&T)F-=r*4,l+=2;else if(M)F-=d*4,p+=2;else if(T)F-=r*4,l+=2;else break}H=!1;F>=12&&Q*4-F<=6&&(l>=4||p>=4)&&(H=!0);F=p*96;E=l*54;c=F/E<c?W.height/E:W.width/F;c=Math.min(c,2);F=Math.floor(Math.min(W.width,F*c));E=Math.floor(Math.min(W.height,E*c));W=this.table.element;W.ariaLive="polite";g.Z_(W,F,E);g.cJ(W,{marginLeft:F/-2+"px",marginTop:E/-2+"px"});this.B.h_(g.mc(this.videoData));this.B instanceof WR&&cR(this.B);g.tm(this.element,"ytp-endscreen-takeover",
Zn(this));BR(this);F+=4;E+=4;c=0;W.ariaBusy="true";for(R=0;R<p;R++)for(r=0;r<l;r++)if(d=c,T=0,H&&R>=p-2&&r>=l-2?T=1:r%2===0&&R%2===0&&(r<2&&R<2?r===0&&R===0&&(T=2):T=2),d=g.Ta(d+this.X,Q),T!==0){M=this.stills[c];M||(M=new eB(this.player),this.stills[c]=M,W.appendChild(M.element));var e=Math.floor(E*r/l),Y=Math.floor(F*R/p),a=Math.floor(E*(r+T)/l)-e-4,D=Math.floor(F*(R+T)/p)-Y-4;g.MC(M.element,Y,e);g.Z_(M.element,D,a);g.cJ(M.element,"transitionDelay",(r+R)/20+"s");g.tm(M.element,"ytp-videowall-still-mini",
T===1);g.tm(M.element,"ytp-videowall-still-large",T>2);T=Math.max(D,a);g.tm(M.element,"ytp-videowall-still-round-large",T>=256);g.tm(M.element,"ytp-videowall-still-round-medium",T>96&&T<256);g.tm(M.element,"ytp-videowall-still-round-small",T<=96);d=q[d];M.suggestion!==d&&(M.suggestion=d,T=M.api.U(),e=g.lE(M.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",HR(M,d,e),g.Dh(T)&&!M.api.D("web_player_log_click_before_generating_ve_conversion_params")&&(T=d.RN(),e={},g.tf(M.api,"addEmbedsConversionTrackingParams",
[e]),T=g.vU(T,e),M.updateValue("url",T)),(d=(d=d.sessionData)&&d.itct)&&M.api.setTrackingParams(M.element,d));c++}W.ariaBusy="false";g.tm(this.element,"ytp-endscreen-paginate",c<Q);for(q=this.stills.length-1;q>=c;q--)p=this.stills[q],g.Eh(p.element),g.tS(p);this.stills.length=c}};
g.t.onVideoDataChange=function(){var p=this.player.getVideoData(1);this.videoData!==p&&(p!=null&&g.mc(p)?(this.X=0,this.videoData=p,this.w_()):this.player.BL("missg",{vid:(p==null?void 0:p.videoId)||"",cpn:(p==null?void 0:p.clientPlaybackNonce)||""}))};
g.t.yw=function(){this.X+=this.stills.length;this.w_()};
g.t.d2=function(){this.X-=this.stills.length;this.w_()};
g.t.cJ=function(){return this.B.Zr()};
g.t.Pz=function(p){p===1?(this.C=!1,this.j=this.videoData.clientPlaybackNonce,this.B.fA(),this.lk&&this.w_()):(this.C=!0,this.lk&&Zn(this)&&(p===2?this.B.Rm():p===3&&this.B.Bj()))};
g.t.HS=function(p){if(p){for(p=0;p<this.stills.length;p++)this.K.logVisibility(this.stills[p].element,!0);this.Pz(1)}else this.j=null,this.C=!1;this.w_()};
g.t.QV=function(){return this.lk&&Zn(this)};g.z(Y8,tx);Y8.prototype.hasSuggestions=function(){var p;return(p=this.B)==null?void 0:p.hasSuggestions()};
Y8.prototype.show=function(){if(this.player.getPlayerState()!==3){tx.prototype.show.call(this);var p=this.L;if(p){var l=this.B.hasSuggestions();g.tm(this.element,"ytp-shorts-branded-ui",l);l?p.show():p.hide()}var Q;(Q=g.dN(this.player))==null||Q.hD(!0);this.player.logVisibility(this.element,!0);this.watchButton.zF(!0)}};
Y8.prototype.hide=function(){tx.prototype.hide.call(this);var p;(p=g.dN(this.player))==null||p.hD(!1);this.player.logVisibility(this.element,!1);this.watchButton.zF(!1)};g.z(WVJ,g.eH);g.t=WVJ.prototype;g.t.vc=function(){var p=this.player.getVideoData(),l=p.mutedAutoplay&&(p.limitedPlaybackDurationInSeconds>0||p.endSeconds>0||p.mutedAutoplayDurationMode!==2);if((this.player.isEmbedsShortsMode()||this.L)&&!l)return!0;var Q;var H=!!((p==null?0:g.mc(p))||(p==null?0:(Q=p.suggestions)==null?0:Q.length));H=!$Yo(this.player)||H;p=p.Hq;Q=this.player.n_();return H&&!p&&!Q&&!l};
g.t.QV=function(){return this.endScreen.QV()};
g.t.YNL=function(){return this.QV()?this.endScreen.cJ():!1};
g.t.Xf=function(){this.player.S7("endscreen");g.eH.prototype.Xf.call(this)};
g.t.load=function(){var p=this.player.getVideoData();var l=p.transitionEndpointAtEndOfStream;if(l&&l.videoId){var Q=this.player.Aw().l4.get("heartbeat"),H=g.mc(p);!H||l.videoId!==H.videoId||p.ew?(this.player.pL(l.videoId,void 0,void 0,!0,!0,l),Q&&Q.RA("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),p=!0):p=!1}else p=!1;p||(g.eH.prototype.load.call(this),this.endScreen.show())};
g.t.unload=function(){g.eH.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.t.onCueRangeEnter=function(p){this.vc()&&(this.endScreen.created||this.endScreen.create(),p.getId()==="load"&&this.load())};
g.t.onCueRangeExit=function(p){p.getId()==="load"&&this.loaded&&this.unload()};
g.t.onVideoDataChange=function(){qJC(this);this.j&&HnJ(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.B?this.endScreen=new RP(this.player):this.endScreen=new zB(this.player),g.A(this,this.endScreen),g.Vs(this.player,this.endScreen.element,4))};g.T_("endscreen",WVJ);})(_yt_player);
